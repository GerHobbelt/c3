<html>
  <head>
    <link rel="stylesheet" type="text/css" href="../css/c3.css">
    <script id="profile_code_chunk">
      console.profile('C3 demo run');

      function stop_profiling() {
        console.profileEnd('C3 demo run');
      }
      var prof_timer_h = null;
      function debounce_profile_stop() {
        clearTimeout(prof_timer_h);
        prof_timer_h = setTimeout(stop_profiling, 5179);
      }
      debounce_profile_stop();
    </script>
  </head>
  <body>
    <div id="chart"></div>

    <script src="../js/d3.latest.js" charset="utf-8"></script>
    <script src="../js/c3.js" charset="utf-8"></script>
    <script>

      var chart = c3.generate({
        data: {
          json: {
            data1: [30, 20, 50, 40, 60, 50],
            data2: [200, 130, 90, 240, 130, 220],
            data3: [300, 200, 160, 400, 250, 250]
          }
        }
      });

    setTimeout(function () {
      debounce_profile_stop();
      chart = c3.generate({
        data: {
          json: [{
            "date": "2014-06-03",
             "443": "3000",
             "995": "500"
          }, {
            "date": "2014-06-04",
             "443": "1000",
          }, {
            "date": "2014-06-05",
             "443": "5000",
             "995": "1000"
          }],
          keys: {
            x: 'date',
            value: [ "443", "995" ]
          }
        },
        axis: {
          x: {
            type: "category"
          }
        }
      });
    }, 1000);

    setTimeout(function () {
      debounce_profile_stop();
      chart = c3.generate({
        data: {
//          x: 'name',
          json: [
            { id: 1, name: 'abc', visits: 200 },
            { id: 2, name: 'efg', visits: 400 },
            { id: 3, name: 'pqr', visits: 150 },
            { id: 4, name: 'xyz', visits: 420 },
          ],
          keys: {
            x: 'name',
            value: ['visits'],
          }
        },
        axis: {
          x: {
            type: 'categorized'
          }
        }
      });
    }, 2000);

    setTimeout(function () {
      debounce_profile_stop();
      chart.load({
          json: [
            { id: 1, name: 'abc', visits: 1200 },
            { id: 2, name: 'efg', visits: 900 },
            { id: 3, name: 'pqr', visits: 1150 },
            { id: 4, name: 'xyz', visits: 1020 },
          ],
          keys: {
            x: 'name',
            value: ['visits'],
          }
      });
    }, 3000);

    </script>
  </body>
</html>
