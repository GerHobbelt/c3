(function(e){"use strict";function r(e){return e||e===0}function i(e){return typeof e==="undefined"}function s(e){return typeof e!=="undefined"}function o(e,t){function p(e,t){e.attr("transform",function(e){return"translate("+Math.ceil(t(e)+l)+", 0)"})}function d(e,t){e.attr("transform",function(e){return"translate(0,"+Math.ceil(t(e))+")"})}function v(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function m(e){var t,n,r=[];if(e.ticks&&f!==undefined){return e.ticks.apply(e,f)}n=e.domain();for(t=Math.ceil(n[0]);t<n[1];t++){r.push(t)}if(r.length>0&&r[0]>0){r.unshift(r[0]-(r[1]-r[0]))}return r}function g(){var e=n.copy(),r;if(t){r=n.domain();e.domain([r[0],r[1]-1])}return e}function y(e){return a?a(e):e}function b(a){a.each(function(){function P(e){var t=n(e)+l;return C[0]<t&&t<C[1]?i:0}var a=e.select(this);var f=this.__chart__||n,c=this.__chart__=g();var b=u?u:m(c),w=a.selectAll(".tick").data(b,c),E=w.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),S=e.transition(w.exit()).style("opacity",1e-6).remove(),x=e.transition(w).style("opacity",1),T,N;var C=n.rangeExtent?n.rangeExtent():v(n.range()),k=a.selectAll(".domain").data([0]),L=(k.enter().append("path").attr("class","domain"),e.transition(k));E.append("line");E.append("text");var A=E.select("line"),O=x.select("line"),M=w.select("text").text(y),_=E.select("text"),D=x.select("text");if(t){l=Math.ceil((c(1)-c(0))/2);N=h?0:l}else{l=N=0}switch(r){case"bottom":{T=p;A.attr("y2",i);_.attr("y",Math.max(i,0)+o);O.attr("x1",N).attr("x2",N).attr("y2",P);D.attr("x",0).attr("y",Math.max(i,0)+o);M.attr("dy",".71em").style("text-anchor","middle");L.attr("d","M"+C[0]+","+s+"V0H"+C[1]+"V"+s);break};case"top":{T=p;A.attr("y2",-i);_.attr("y",-(Math.max(i,0)+o));O.attr("x2",0).attr("y2",-i);D.attr("x",0).attr("y",-(Math.max(i,0)+o));M.attr("dy","0em").style("text-anchor","middle");L.attr("d","M"+C[0]+","+ -s+"V0H"+C[1]+"V"+ -s);break};case"left":{T=d;A.attr("x2",-i);_.attr("x",-(Math.max(i,0)+o));O.attr("x2",-i).attr("y2",0);D.attr("x",-(Math.max(i,0)+o)).attr("y",l);M.attr("dy",".32em").style("text-anchor","end");L.attr("d","M"+ -s+","+C[0]+"H0V"+C[1]+"H"+ -s);break};case"right":{T=d;A.attr("x2",i);_.attr("x",Math.max(i,0)+o);O.attr("x2",i).attr("y2",0);D.attr("x",Math.max(i,0)+o).attr("y",0);M.attr("dy",".32em").style("text-anchor","start");L.attr("d","M"+s+","+C[0]+"H0V"+C[1]+"H"+s);break}}if(c.rangeBand){var H=c,B=H.rangeBand()/2;f=c=function(e){return H(e)+B}}else if(f.rangeBand){f=c}else{S.call(T,c)}E.call(T,f);x.call(T,c)})}var n=e.scale.linear(),r="bottom",i=6,s=6,o=3,u=null,a,f;var l=0,c=true,h;b.scale=function(e){if(!arguments.length){return n}n=e;return b};b.orient=function(e){if(!arguments.length){return r}r=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom";return b};b.tickFormat=function(e){if(!arguments.length){return a}a=e;return b};b.tickCentered=function(e){if(!arguments.length){return h}h=e;return b};b.tickOffset=function(){return l};b.ticks=function(){if(!arguments.length){return f}f=arguments;return b};b.tickCulling=function(e){if(!arguments.length){return c}c=e;return b};b.tickValues=function(e){if(!arguments.length){return u}u=e;return b};return b}var t={version:"0.1.42"};var n={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",region:"c3-region",regions:"c3-regions",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};t.generate=function(t){function l(e,n){if(!(e in t)){throw Error(n)}}function c(e,n){var r=t,i,s,o;for(i=0;i<e.length;i++){if(typeof r==="object"&&!(e[i]in r)){return n}s=i===e.length-1;o=r[e[i]];if(!s&&typeof o!=="object"){return n}r=o}return r}function ii(t){var n=e.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(n?"":document.URL.split("#")[0])+"#"+t+")"}function si(e){return Math.ceil(e)+.5}function oi(e,t){var r,i,s;if(t&&t.axisX){r=t.axisX}else{r=Af.select("."+n.axisX);if(e){r=r.transition()}}if(t&&t.axisY){i=t.axisY}else{i=Af.select("."+n.axisY);if(e){i=i.transition()}}if(t&&t.axisY2){s=t.axisY2}else{s=Af.select("."+n.axisY2);if(e){s=s.transition()}}Af.attr("transform",Yr.main);r.attr("transform",Yr.x);i.attr("transform",Yr.y);s.attr("transform",Yr.y2);Af.select("."+n.chartArcs).attr("transform",Yr.arc)}function ui(e,t){var r;if(t&&t.axisSubX){r=t.axisSubX}else{r=Of.select("."+n.axisX);if(e){r=r.transition()}}Of.attr("transform",Yr.context);r.attr("transform",Yr.subx)}function ai(e){(e?Mf.transition():Mf).attr("transform",Yr.legend)}function fi(e,t){oi(e,t);if(rt){ui(e,t)}ai(e)}function pi(){var e=Xi(),t=Wi(),n=Zr?0:e,r=ga(a.data.targets),i=dt||r?0:Ti("x"),s=rt&&!r?it+i:0;yr=gi();br=yi();if(dt){cr={top:Ti("y2")+bi(),right:r?0:Si(),bottom:Ti("y")+n+wi(),left:s+(r?0:Ei())};hr={top:cr.top,right:NaN,bottom:20+n,left:li}}else{cr={top:4+bi(),right:r?0:Si(),bottom:i+s+n+wi(),left:r?0:Ei()};hr={top:br-s-n,right:NaN,bottom:i+n,left:cr.left}}pr={top:Zr?0:br-e,right:NaN,bottom:0,left:Zr?yr-t:0};dr=yr-cr.left-cr.right;mr=br-cr.top-cr.bottom;if(dr<0){dr=0}if(mr<0){mr=0}vr=dt?cr.left-li-ci:dr;gr=dt?mr:br-hr.top-hr.bottom;if(vr<0){vr=0}if(gr<0){gr=0}xr=dr-(Zr?t+10:0);Tr=mr-(Zr?0:10);vi();if(Zr&&r){pr.left=xr/2+Er*1.1}}function di(){Af.select("line."+n.xgridFocus).attr("x1",dt?0:-10).attr("x2",dt?dr:-10).attr("y1",dt?-10:cr.top).attr("y2",dt?-10:mr)}function vi(){var e;Er=Math.min(xr,Tr)/2;wr=Er*.95;e=Ln?(wr-Ln)/wr:.6;Sr=ma(a.data.targets)||va(a.data.targets)?wr*e:0}function mi(){var e=dt?n.axisX:n.axisY,t=Af.select("."+e).node(),r=t?t.getBoundingClientRect():{right:0},i=Df.node().getBoundingClientRect(),s=ga(a.data.targets),o=r.right-i.left-(s?0:Ei());return o>0?o:0}function gi(){return p?p:Ci()}function yi(){var e=d?d:ki();return e>0?e:320}function bi(){return g?g:0}function wi(){return y?y:0}function Ei(){if(v){return v}else if(dt){return!vt?1:Math.max($a(xi("x")),40)}else{return!Dt||Ft?1:$a(xi("y"))}}function Si(){var e=10,t=Zr?Wi()+20:0;if(m){return m}else if(dt){return e+t}else{return(!Ut||$t?e:$a(xi("y2")))+t}}function xi(e){var t=ps(e);return t.isInner?20+_s(e):40+_s(e)}function Ti(e){if(e==="x"&&!vt){return 0}if(e==="x"&&Ot){return Ot}if(e==="y"&&!Dt){return at&&!Zr?10:1}if(e==="y2"&&!Ut){return hi}return(ps(e).isInner?30:40)+(e==="y2"?-10:0)}function Ni(e){var t=Df.node(),n;while(t&&t.tagName!=="BODY"){n=t.getBoundingClientRect()[e];if(n){break}t=t.parentNode}return n}function Ci(){return Ni("width")}function ki(){var e=Df.style("height");return e.indexOf("px")>0?+e.replace("px",""):0}function Li(e){return e?-(1+30):-(cr.left-1)}function Ai(e){return e?-20:-4}function Oi(){return Li(!dt)}function Mi(){return Ai(!dt)}function _i(){return Li(dt)}function Di(){return Ai(dt)}function Pi(e){return e?dr+2+30+30:cr.left+20}function Hi(e){return e?(Ot?Ot:0)+80:mr+8}function Bi(){return Pi(!dt)}function ji(){return Hi(!dt)}function Fi(){return Pi(dt)}function Ii(){return Hi(dt)}function qi(){var e=Ho(a.data.targets),t,n,r,i,s,o;if(!e){return 0}t=e.values[0],n=e.values[e.values.length-1];r=jr(n.x)-jr(t.x);if(r===0){return dt?mr:dr}i=Po();s=ha(a.data.targets)?(i-(Gn?.25:1))/i:1;o=i>1?r*s/(i-1):r;return o<1?1:o}function Ri(e){ei=e}function Ui(e){ti=e}function zi(e){ni=e}function Wi(){return at?Zr?ti*(ei+1):yr:0}function Xi(){return at?Zr?br:ni*(ei+1):0}function Vi(){var e,t,n=!jr;Ar=dt?1:0;Or=dt?mr:dr;Mr=dt?0:mr;_r=dt?dr:1;Dr=Ar;Pr=Or;Hr=dt?0:gr;Br=dt?vr:1;jr=Ki(Ar,Or,n?undefined:jr.domain(),function(){return zr.tickOffset()});Fr=Qi(Mr,_r,n?undefined:Fr.domain());Ir=Qi(Mr,_r,n?undefined:Ir.domain());qr=Ki(Ar,Or,Pf,function(e){return e%1?0:Vr.tickOffset()});Rr=Qi(Hr,Br,n?undefined:Rr.domain());Ur=Qi(Hr,Br,n?undefined:Ur.domain());e=ns();t=Nt?Nt:n?undefined:zr.tickValues();zr=Zi(jr,Jr,e,t);Vr=Zi(qr,Gr,e,t);Wr=es(Fr,Kr,It,Rt);Xr=es(Ir,Qr,Jt,Qt);if(!n){Nf.scale(qr);if(b){Cf.scale(jr)}}$i()}function $i(){Nr=Hs();Cr=Bs();kr=Bs(.98)}function Ji(e,t,n){return(n?u.time.scale():u.scale.linear()).range([e,t])}function Ki(e,t,n,r){var i=Ji(e,t,Qn),s=n?i.domain(n):i,o;if(Gn){r=r||function(){return 0};i=function(e,t){var n=s(e)+r(e);return t?n:Math.ceil(n)}}else{i=function(e,t){var n=s(e);return t?n:Math.ceil(n)}}for(o in s){i[o]=s[o]}i.orgDomain=function(){var e=s.domain();if(Pf&&Pf[0]===e[0]&&Pf[1]<e[1]){e[1]=Pf[1]}return e};if(Gn){i.domain=function(e){if(!arguments.length){e=this.orgDomain();return[e[0],e[1]+1]}Pf=e;s.domain(e);return i}}return i}function Qi(e,t,n){var r=Ji(e,t);if(n){r.domain(n)}return r}function Gi(e){return ts(e)==="y2"?Ir:Fr}function Yi(e){return ts(e)==="y2"?Ur:Rr}function Zi(e,t,n,r){var i=o(u,Gn).scale(e).orient(t);i.tickFormat(n).tickValues(r);if(Gn){i.tickCentered(bt);if(qa(Et)){Et=false}}else{i.tickOffset=function(){var e=Bo(a.data.targets),t=jr(e[1])-jr(e[0]),n=t?t:dt?mr:dr;return n/Po()/2}}return i}function es(e,t,n,r){return o(u).scale(e).orient(t).tickFormat(n).ticks(r)}function ts(e){return e in H?H[e]:"y"}function ns(){var e=Qn?ar:Gn?Zo:function(e){return e<0?e.toFixed(0):e};if(wt){if(typeof wt==="function"){e=wt}else if(Qn){e=function(e){return e?ur(wt)(e):""}}}return e}function rs(e){var t;if(e==="y"){t=jt}else if(e==="y2"){t=Vt}else if(e==="x"){t=_t}return t}function is(e){var t=rs(e);return typeof t==="string"?t:t?t.text:null}function ss(e,t){var n=rs(e);if(typeof n==="string"){if(e==="y"){jt=t}else if(e==="y2"){Vt=t}else if(e==="x"){_t=t}}else if(n){n.text=t}}function os(e){return 10*Math.sin(Math.PI*(e/180))}function us(e){return 11.5-2.5*(e/15)}function as(e,t,n){e.selectAll(".tick text").style("text-anchor","start");t.selectAll(".tick text").attr("y",us(n)).attr("x",os(n)).attr("transform","rotate("+n+")")}function fs(e,t){var n=rs(e),r=n&&typeof n==="object"&&n.position?n.position:t;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}}function ls(){return fs("x",dt?"inner-top":"inner-right")}function cs(){return fs("y",dt?"inner-right":"inner-top")}function hs(){return fs("y2",dt?"inner-right":"inner-top")}function ps(e){return e==="y2"?hs():e==="y"?cs():ls()}function ds(){return is("x")}function vs(){return is("y")}function ms(){return is("y2")}function gs(e,t){if(e){return t.isLeft?0:t.isCenter?dr/2:dr}else{return t.isBottom?-mr:t.isMiddle?-mr/2:0}}function ys(e,t){if(e){return t.isLeft?"0.5em":t.isRight?"-0.5em":"0"}else{return t.isTop?"-0.5em":t.isBottom?"0.5em":"0"}}function bs(e,t){if(e){return t.isLeft?"start":t.isCenter?"middle":"end"}else{return t.isBottom?"start":t.isMiddle?"middle":"end"}}function ws(){return gs(!dt,ls())}function Es(){return gs(dt,cs())}function Ss(){return gs(dt,hs())}function xs(){return ys(!dt,ls())}function Ts(){return ys(dt,cs())}function Ns(){return ys(dt,hs())}function Cs(){var e=ls();if(dt){return e.isInner?"1.2em":-25-_s("x")}else{return e.isInner?"-0.5em":Ot?Ot-10:"3em"}}function ks(){var e=cs();if(dt){return e.isInner?"-0.5em":"3em"}else{return e.isInner?"1.2em":-20-_s("y")}}function Ls(){var e=hs();if(dt){return e.isInner?"1.2em":"-2.2em"}else{return e.isInner?"-0.5em":30+_s("y2")}}function As(){return bs(!dt,ls())}function Os(){return bs(dt,cs())}function Ms(){return bs(dt,hs())}function _s(e){var t=0,r=e==="x"?n.axisX:e==="y"?n.axisY:n.axisY2;u.selectAll("."+r+" .tick text").each(function(){var e=this.getBoundingClientRect();if(t<e.width){t=e.width}});return t<0?0:t}function Ds(e){var t=Af.select("."+n.axisX+" ."+n.axisXLabel),r=Af.select("."+n.axisY+" ."+n.axisYLabel),i=Af.select("."+n.axisY2+" ."+n.axisY2Label);(e?t.transition():t).attr("x",ws).attr("dx",xs).attr("dy",Cs).text(ds);(e?r.transition():r).attr("x",Es).attr("dx",Ts).attr("dy",ks).attr("dy",ks).text(vs);(e?i.transition():i).attr("x",Ss).attr("dx",Ns).attr("dy",Ls).text(ms)}function Ps(e){var t=false;Lr(Uo(a.data.targets)).forEach(function(n){if(!t&&n.data.id===e.data.id){t=true;e=n}});if(isNaN(e.endAngle)){e.endAngle=e.startAngle}if(Na(e.data)){var n=Sn,r=xn,i=Math.abs(n)+r,s=Math.PI/i;e.startAngle=-1*(Math.PI/2)+s*Math.abs(n);e.endAngle=e.startAngle+s*(e.value>r?r:e.value)}return t?e:null}function Hs(){var e=u.svg.arc().outerRadius(wr).innerRadius(Sr),t=function(t,n){var r;if(n){return e(t)}r=Ps(t);return r?e(r):"M 0 0"};t.centroid=e.centroid;return t}function Bs(e){var t=u.svg.arc().outerRadius(Er*(e?e:1)).innerRadius(Sr);return function(e){var n=Ps(e);return n?t(n):"M 0 0"}}function js(e,t,n){return n||ka(e.data)?Nr(e,t):"M 0 0"}function Fs(e){var t=Ps(e),n,r,i,s,o,u="";if(t&&!va(a.data.targets)){n=Nr.centroid(t);r=n[0];i=n[1];s=Math.sqrt(r*r+i*i);o=(36/wr>.375?1.175-36/wr:.8)*wr/s;u="translate("+r*o+","+i*o+")"}return u}function Is(e){var t=va(a.data.targets)?Math.PI:Math.PI*2;return e?(e.endAngle-e.startAngle)/t:null}function qs(e){return xo({id:e.data.id,value:e.value,ratio:Is(e)})}function Rs(e){var t,n,r,i;if(!Ws()){return""}t=Ps(e);n=t?t.value:null;r=Is(t);i=Xs();return i?i(n,r):ju(n,r)}function Us(e,t){var r=kf.selectAll("."+n.chartArc+xu(e)),i=kf.selectAll("."+n.arc).filter(function(t){return t.data.id!==e});if(Da(e)){r.selectAll("path").transition().duration(50).attr("d",Cr).transition().duration(100).attr("d",kr).each(function(e){if(Ca(e.data)){}})}if(!t){i.style("opacity",.3)}}function zs(e){var t=kf.selectAll("."+n.chartArc+xu(e));t.selectAll("path."+n.arc).transition().duration(50).attr("d",Nr);kf.selectAll("."+n.arc).style("opacity",ot)}function Ws(){var e=true;if(ma(a.data.targets)){e=An}else if(da(a.data.targets)){e=pn}return e}function Xs(){var e=dn;if(va(a.data.targets)){e=wn}else if(ma(a.data.targets)){e=On}return e}function Vs(){return ma(a.data.targets)?_n:""}function $s(){var e=mn;if(va(a.data.targets)){e=Tn}else if(ma(a.data.targets)){e=Dn}return typeof e==="function"?e:function(){}}function Js(){var e=gn;if(va(a.data.targets)){e=Nn}else if(ma(a.data.targets)){e=Pn}return typeof e==="function"?e:function(){}}function Ks(){var e=yn;if(va(a.data.targets)){e=Cn}else if(ma(a.data.targets)){e=Hn}return typeof e==="function"?e:function(){}}function Qs(e,t,n,i){var s=e.unit==="ratio"?i:1;return r(e[t])?e[t]*s:n}function Gs(e){var t=jo(e),n=Ko(e),r,i,s,o,a,f;if(P.length>0){f=Go(e);for(r=0;r<P.length;r++){o=P[r].filter(function(e){return t.indexOf(e)>=0});if(o.length===0){continue}s=o[0];if(f&&n[s]){n[s].forEach(function(e,t){n[s][t]=e<0?e:0})}for(i=1;i<o.length;i++){a=o[i];if(!n[a]){continue}n[a].forEach(function(e,t){if(ts(a)===ts(s)&&n[s]&&!(f&&+e>0)){n[s][t]+=+e}})}}}return u.min(Object.keys(n).map(function(e){return u.min(n[e])}))}function Ys(e){var t=jo(e),n=Ko(e),r,i,s,o,a,f;if(P.length>0){f=Yo(e);for(r=0;r<P.length;r++){o=P[r].filter(function(e){return t.indexOf(e)>=0});if(o.length===0){continue}s=o[0];if(f&&n[s]){n[s].forEach(function(e,t){n[s][t]=e>0?e:0})}for(i=1;i<o.length;i++){a=o[i];if(!n[a]){continue}n[a].forEach(function(e,t){if(ts(a)===ts(s)&&n[s]&&!(f&&+e<0)){n[s][t]+=+e}})}}}return u.max(Object.keys(n).map(function(e){return u.max(n[e])}))}function Zs(e,t){var n=e.filter(function(e){return ts(e.id)===t}),i=t==="y2"?Wt:Ht,s=t==="y2"?zt:Pt,o=r(i)?i:Gs(n),u=r(s)?s:Ys(n),a,f,l,c,h=t==="y2"?Xt:Bt,p,d,v,m,g=Mu()&&dt;if(n.length===0){return t==="y2"?Ir.domain():Fr.domain()}if(o===u){o<0?u=0:o=0}a=Math.abs(u-o);f=l=c=g?0:a*.1;if(h){p=Math.max(Math.abs(o),Math.abs(u));u=p-h;o=h-p}if(g){d=_u(o,u);v=so(Fr.range());m=[d[0]/v,d[1]/v];l+=a*(m[1]/(1-m[0]-m[1]));c+=a*(m[0]/(1-m[0]-m[1]))}if(t==="y"&&qt){l=Qs(qt,"top",f,a);c=Qs(qt,"bottom",f,a)}if(t==="y2"&&Kt){l=Qs(Kt,"top",f,a);c=Qs(Kt,"bottom",f,a)}if(ha(n)&&!Go(n)){c=o}return[o-c,u+l]}function eo(e){return Lt?Qn?Ba(Lt):Lt:u.min(e,function(e){return u.min(e.values,function(e){return e.x})})}function to(e){return kt?Qn?Ba(kt):kt:u.max(e,function(e){return u.max(e.values,function(e){return e.x})})}function no(e){var t=Bo(e),n=t[1]-t[0],i,s,o,u;if(Gn){s=0}else if(ha(e)){i=Po();s=i>1?n/(i-1)/2:.5}else{s=n*.01}if(typeof At==="object"&&Ra(At)){o=r(At.left)?At.left:s;u=r(At.right)?At.right:s}else if(typeof At==="number"){o=u=At}else{o=u=s}return{left:o,right:u}}function ro(e){var t=[eo(e),to(e)],n=t[0],r=t[1],i=no(e),s=0,o=0;if(n-r===0&&!Gn){n=Qn?new Date(n.getTime()*.5):-.5;r=Qn?new Date(r.getTime()*1.5):.5}if(n||n===0){s=Qn?new Date(n.getTime()-i.left):n-i.left}if(r||r===0){o=Qn?new Date(r.getTime()+i.right):r+i.right}return[s,o]}function io(e,t,n){if(n){jr.domain(u.extent(ro(e)));Pf=jr.domain();if(b){Cf.scale(jr).updateScaleExtent()}qr.domain(jr.domain());Nf.scale(qr)}if(t){jr.domain(Nf.empty()?Pf:Nf.extent());if(b){Cf.scale(jr).updateScaleExtent()}}}function so(e){return e[1]-e[0]}function oo(e){for(var t=0;t<e.length;t++){if(!(e[t]in f)){return false}}return true}function uo(e,t){f[e]=Mo(t)}function ao(e){var t=[];for(var n=0;n<e.length;n++){if(e[n]in f){t.push(Mo(f[e[n]]))}}return t}function fo(e){var t,n=e.axis==="y"?Fr:Ir;if(e.axis==="y"||e.axis==="y2"){t=dt?"start"in e?n(e.start):0:0}else{t=dt?0:"start"in e?jr(Qn?Ba(e.start):e.start):0}return t}function lo(e){var t,n=e.axis==="y"?Fr:Ir;if(e.axis==="y"||e.axis==="y2"){t=dt?0:"end"in e?n(e.end):0}else{t=dt?"start"in e?jr(Qn?Ba(e.start):e.start):0:0}return t}function co(e){var t=fo(e),n,r=e.axis==="y"?Fr:Ir;if(e.axis==="y"||e.axis==="y2"){n=dt?"end"in e?r(e.end):dr:dr}else{n=dt?dr:"end"in e?jr(Qn?Ba(e.end):e.end):dr}return n<t?0:n-t}function ho(e){var t=lo(e),n,r=e.axis==="y"?Fr:Ir;if(e.axis==="y"||e.axis==="y2"){n=dt?mr:"start"in e?r(e.start):mr}else{n=dt?"end"in e?jr(Qn?Ba(e.end):e.end):mr:mr}return n<t?0:n-t}function po(e){return L&&e===L||Ra(A)&&Ua(A,e)}function vo(e){return!po(e)}function mo(e){return L?L:Ra(A)?A[e]:null}function go(e,t){var n,r=t&&Ra(t)?jo(t):[];r.forEach(function(t){if(mo(t)===e){n=a.data.xs[t]}});return n}function yo(e,t){return e in a.data.xs&&a.data.xs[e]&&a.data.xs[e][t]?a.data.xs[e][t]:t}function bo(){var e=Object.keys(a.data.xs);return e.length?a.data.xs[e[0]]:null}function wo(e){var t=bo();return t&&e<t.length?t[e]:null}function Eo(e){Object.keys(e).forEach(function(t){A[t]=e[t]})}function So(e){return u.set(Object.keys(e).map(function(t){return e[t]})).size()===1}function xo(e){var t;if(e){t=_[e.id];e.name=t?t:e.id}return e}function To(e,t){var n=e.filter(function(e){return e.index===t});return n.length?n[0]:null}function No(e,t){e.forEach(function(e){e.values.forEach(function(n,r){n.x=ko(t[r],e.id,r)});a.data.xs[e.id]=t})}function Co(e,t){e.forEach(function(e){if(t[e.id]){No([e],t[e.id])}})}function ko(e,t,n){var i;if(Qn){i=e?e instanceof Date?e:Ba(e):Ba(yo(t,n))}else if(Yn&&!Gn){i=r(e)?+e:yo(t,n)}else{i=n}return i}function Lo(e){var t=e[0],n={},r=[],i,s;for(i=1;i<e.length;i++){n={};for(s=0;s<e[i].length;s++){n[t[s]]=e[i][s]}r.push(n)}return r}function Ao(e){var t=[],n,r,s;for(n=0;n<e.length;n++){s=e[n][0];for(r=1;r<e[n].length;r++){if(i(t[r-1])){t[r-1]={}}t[r-1][s]=e[n][r]}}return t}function Oo(e,t){var n=u.keys(e[0]).filter(vo),i=u.keys(e[0]).filter(po),s;n.forEach(function(n){var s=mo(n);if(Yn||Qn){if(i.indexOf(s)>=0){a.data.xs[n]=(t&&a.data.xs[n]?a.data.xs[n]:[]).concat(e.map(function(e){return e[s]}).filter(r).map(function(e,t){return ko(e,n,t)}))}else if(L){a.data.xs[n]=bo()}else if(Ra(A)){a.data.xs[n]=go(s,a.data.targets)}}else{a.data.xs[n]=e.map(function(e,t){return t})}});n.forEach(function(e){if(!a.data.xs[e]){throw new Error('x is not defined for id = "'+e+'".')}});s=n.map(function(t,n){var r=M(t);return{id:r,id_org:t,values:e.map(function(e,i){var s=mo(t),o=e[s],u=ko(o,t,i);if(Yn&&Gn&&n===0&&o){if(i===0){yt=[]}yt.push(o)}if(typeof e[t]==="undefined"||a.data.xs[t].length<=i){u=undefined}return{x:u,value:e[t]!==null&&!isNaN(e[t])?+e[t]:null,id:r}}).filter(function(e){return typeof e.x!=="undefined"})}});s.forEach(function(e){var t;e.values=e.values.sort(function(e,t){var n=e.x||e.x===0?e.x:Infinity,r=t.x||t.x===0?t.x:Infinity;return n-r});t=0;e.values.forEach(function(e){e.index=t++})});if(B){la(jo(s).filter(function(e){return!(e in j)}),B)}s.forEach(function(e){uo(e.id_org,e)});return s}function Mo(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(e){return{x:e.x,value:e.value,id:e.id}})}}function _o(e){var t=To(a.data.targets[0].values,e-1);return t?t.x:null}function Do(e){var t=To(a.data.targets[0].values,e+1);return t?t.x:null}function Po(){return u.max(a.data.targets,function(e){return e.values.length})}function Ho(e){var t=e.length,n=0,r;if(t>1){e.forEach(function(e){if(e.values.length>n){r=e;n=e.values.length}})}else{r=t?e[0]:null}return r}function Bo(e){var t=Ho(e),n,r;if(!t){return[0,0]}n=t.values[0],r=t.values[t.values.length-1];return[n.x,r.x]}function jo(e){return e.map(function(e){return e.id})}function Fo(e){return e?typeof e==="string"?[e]:e:jo(a.data.targets)}function Io(e,t){var n=jo(e),r;for(r=0;r<n.length;r++){if(n[r]===t){return true}}return false}function qo(e){return fr.indexOf(e)<0}function Ro(e){return lr.indexOf(e)<0}function Uo(e){return e.filter(function(e){return qo(e.id)})}function zo(e){var t=u.set(u.merge(e.map(function(e){return e.values.map(function(e){return e.x})}))).values();return Qn?t.map(function(e){return new Date(e)}):t.map(function(e){return+e})}function Wo(e,t){var n=e,r,i,s,o,u,a,f;if(t){r=typeof t==="function"?t():t;if(r===1){n=[e[0]]}else if(r===2){n=[e[0],e[e.length-1]]}else if(r>2){o=r-2;i=e[0];s=e[e.length-1];u=(s-i)/(o+1);n=[i];for(a=0;a<o;a++){f=+i+u*(a+1);n.push(Qn?new Date(f):f)}n.push(s)}}if(!Qn){n=n.sort(function(e,t){return e-t})}return n}function Xo(e){fr=fr.concat(e)}function Vo(e){fr=fr.filter(function(t){return e.indexOf(t)<0})}function $o(e){lr=lr.concat(e)}function Jo(e){lr=lr.filter(function(t){return e.indexOf(t)<0})}function Ko(e){var t={};e.forEach(function(e){t[e.id]=[];e.values.forEach(function(n){t[e.id].push(n.value)})});return t}function Qo(e,t){var n=Object.keys(e),r,i,s;for(r=0;r<n.length;r++){s=e[n[r]].values;for(i=0;i<s.length;i++){if(t(s[i].value)){return true}}}return false}function Go(e){return Qo(e,function(e){return e<0})}function Yo(e){return Qo(e,function(e){return e>0})}function Zo(e){return e<yt.length?yt[e]:e}function eu(e,t){return" "+e+" "+e+Su(t)}function tu(e){return eu(n.text,e.id)}function nu(e){return eu(n.texts,e.id)}function ru(e){return eu(n.shape,e.index)}function iu(e){return eu(n.shapes,e.id)}function su(e){return ru(e)+eu(n.line,e.id)}function ou(e){return iu(e)+eu(n.lines,e.id)}function uu(e){return ru(e)+eu(n.circle,e.index)}function au(e){return iu(e)+eu(n.circles,e.id)}function fu(e){return ru(e)+eu(n.bar,e.index)}function lu(e){return iu(e)+eu(n.bars,e.id)}function cu(e){return ru(e.data)+eu(n.arc,e.data.id)}function hu(e){return iu(e.data)+eu(n.arcs,e.data.id)}function pu(e){return ru(e)+eu(n.area,e.id)}function du(e){return iu(e)+eu(n.areas,e.id)}function vu(e,t){return eu(n.region,t)+" "+("class"in e?e.class:"")}function mu(e){return eu(n.eventRect,e.index)}function gu(e){var t=D[e],r="";if(t){r=" "+n.target+"-"+t}return eu(n.target,e)+r}function yu(e){return n.chartText+gu(e.id)}function bu(e){return n.chartLine+gu(e.id)}function wu(e){return n.chartBar+gu(e.id)}function Eu(e){return n.chartArc+gu(e.data.id)}function Su(e){return e||e===0?"-"+(e.replace?e.replace(/([^a-zA-Z0-9-_])/g,"-"):e):""}function xu(e){return"."+n.target+Su(e)}function Tu(e){return e.length?e.map(function(e){return xu(e)}):null}function Nu(e){return"."+n.legendItem+Su(e)}function Cu(e){return e.length?e.map(function(e){return Nu(e)}):null}function ku(e){return e.value!==null&&Bf[e.id]?1:0}function Lu(e){var t=Ou(e);return ku(e)*t}function Au(e){return r(e.value)?xa(e)?.5:1:0}function Ou(){return Mu()?1:0}function Mu(){if(typeof F==="boolean"&&F){return true}else if(typeof F==="object"&&Ra(F)){return true}return false}function _u(e,t){var n=[],r=1.3;Df.select("svg").selectAll(".dummy").data([e,t]).enter().append("text").text(function(e){return Fu(e.id)(e.value,e.id)}).each(function(e,t){n[t]=this.getBoundingClientRect().width*r}).remove();return n}function Du(e){var t=e&&!va(a.data.targets)?ju:Pu,n=e&&!va(a.data.targets)?ju:Hu;return function(e,r,i){var s=ts(i)==="y2"?n:t;return s(e,r)}}function Pu(e){var t=It?It:Bu;return t(e)}function Hu(e){var t=Jt?Jt:Bu;return t(e)}function Bu(e){return r(e)?+e:""}function ju(e,t){return(t*100).toFixed(1)+"%"}function Fu(e){var t=function(e){return r(e)?+e:""},n=ts(e),i=t;if(typeof F.format==="function"){i=F.format}else if(typeof F.format==="object"){if(typeof F.format[n]==="function"){i=F.format[n]}}return i}function Iu(e){return e?jr(e.x):null}function qu(e){return Math.ceil(jr(Qn?Ba(e.value):e.value))}function Ru(e){var t=e.axis&&e.axis==="y2"?Ir:Fr;return Math.ceil(t(e.value))}function Uu(e){return e?qr(e.x):null}function zu(e,t){var n,r=e[t].x,i=[];for(n=t-1;n>=0;n--){if(r!==e[n].x){break}i.push(e[n])}for(n=t;n<e.length;n++){if(r!==e[n].x){break}i.push(e[n])}return i}function Wu(e,t,n,r){var i=n?n:0,s=r?r:e.length-1,o=Math.floor((s-i)/2)+i,u=e[o],a=jr(u.x)-t[dt?1:0],f;a>0?s=o:i=o;if(s-i===1||i===0&&s===0){f=[];if(e[i].x||e[i].x===0){f=f.concat(zu(e,i))}if(e[s].x||e[s].x===0){f=f.concat(zu(e,s))}return Vu(f,t)}return Wu(e,t,i,s)}function Xu(e,t){var n;n=e.map(function(e){return Wu(e.values,t)});return Vu(n,t)}function Vu(e,t){var n,r;e.forEach(function(e){var i=za(e,t);if(i<n||!n){n=i;r=e}});return r}function $u(e,t){return u.merge(e.map(function(e){return e.values})).filter(function(e){return e.x-t===0})}function Ju(e){var t=e.getBoundingClientRect(),n=[e.pathSegList.getItem(0),e.pathSegList.getItem(1)],r=n[0].x,i=Math.min(n[0].y,n[1].y);return{x:r,y:i,width:t.width,height:t.height}}function Ku(){return I&&I.toLowerCase()==="desc"}function Qu(){return I&&I.toLowerCase()==="asc"}function Gu(e){var t=Qu(),n=Ku();if(t||n){e.sort(function(e,n){var r=function(e,t){return e+Math.abs(t.value)};var i=e.values.reduce(r,0),s=n.values.reduce(r,0);return t?s-i:i-s})}else if(typeof I==="function"){e.sort(I)}return e}function Yu(e,t){var n,i,s,o,u,f,l;var c=ga(a.data.targets),h=e.filter(function(e){return e&&r(e.value)});if(h.length===0||!jn){return}_f.html(qn(e,ns(),Du(c),sr)).style("display","block");n=_f.property("offsetWidth");i=_f.property("offsetHeight");if(c){o=dr/2+t[0];f=mr/2+t[1]+20}else{if(dt){s=mi();o=s+t[0]+100;u=o+n;l=gi()-Si();f=jr(h[0].x)+20}else{s=mi();o=s+Ei()+jr(h[0].x)+20;u=o+n;l=s+gi()-Si();f=t[1]+15}if(u>l){o-=u-l}if(f+i>yi()){f-=i+30}}_f.style("top",f+"px").style("left",o+"px")}function Zu(){_f.style("display","none")}function ea(e){var t=e.filter(function(e){return e&&r(e.value)});if(!jn){return}if(pa(a.data.targets)||ga(a.data.targets)){return}var i=Af.selectAll("line."+n.xgridFocus);i.style("visibility","visible").data([t[0]]).attr(dt?"y1":"x1",Iu).attr(dt?"y2":"x2",Iu);Xf(i,"grid")}function ta(){Af.select("line."+n.xgridFocus).style("visibility","hidden")}function na(e,t){var r=[],i,s,o,u,a=Af.select("."+n.axisX).selectAll(".tick").size();if(e==="year"){i=ro();s=i[0].getFullYear();o=i[1].getFullYear();for(u=s;u<=o;u++){r.push(new Date(u+"-01-01 00:00:00"))}}else{r=t.ticks(10)}return r.slice(0,a)}function ra(e){var t={},n=0,r,s;Uo(a.data.targets.filter(e)).forEach(function(e){for(r=0;r<P.length;r++){if(P[r].indexOf(e.id)<0){continue}for(s=0;s<P[r].length;s++){if(P[r][s]in t){t[e.id]=t[P[r][s]];break}}}if(i(t[e.id])){t[e.id]=n++}});t.__max__=n-1;return t}function ia(e,t,n,r){var i=r?qr:jr;return function(r){var s=r.id in n?n[r.id]:0;return r.x||r.x===0?i(r.x)-e*(t/2-s):0}}function sa(e){return function(t){var n=e?Yi(t.id):Gi(t.id);return n(t.value)}}function oa(e,t,n){var r=Gu(Uo(a.data.targets.filter(e))),i=r.map(function(e){return e.id});return function(e,s){var o=n?Yi(e.id):Gi(e.id),u=o(0),a=u;r.forEach(function(n){if(n.id===e.id||t[n.id]!==t[e.id]){return}if(i.indexOf(n.id)<i.indexOf(e.id)&&n.values[s].value*e.value>0){a+=o(n.values[s].value)-u}});return a}}function ua(e){return e.x||e.x===0?jr(e.x):null}function aa(e,t){var n=ra(ya),r=xf(n);return P.length>0?r(e,t)[0][1]:Gi(e.id)(e.value)}function fa(e,t){return typeof cn==="number"?cn:t?e.tickOffset()*2*hn/t:0}function la(e,t){Fo(e).forEach(function(e){Bf[e]=t===j[e];j[e]=t});if(!e){B=t}}function ca(e,t){var n=false;e.forEach(function(e){if(j[e.id]===t){n=true}if(!(e.id in j)&&t==="line"){n=true}});return n}function ha(e){return ca(e,"bar")}function pa(e){return ca(e,"scatter")}function da(e){return B==="pie"||ca(e,"pie")}function va(e){return ca(e,"gauge")}function ma(e){return B==="donut"||ca(e,"donut")}function ga(e){return da(e)||ma(e)||va(e)}function ya(e){var t=typeof e==="string"?e:e.id;return!(t in j)||["line","spline","area","area-spline","step","area-step"].indexOf(j[t])>=0}function ba(e){var t=typeof e==="string"?e:e.id;return["step","area-step"].indexOf(j[t])>=0}function wa(e){var t=typeof e==="string"?e:e.id;return["spline","area-spline"].indexOf(j[t])>=0}function Ea(e){var t=typeof e==="string"?e:e.id;return["area","area-spline","area-step"].indexOf(j[t])>=0}function Sa(e){var t=typeof e==="string"?e:e.id;return j[t]==="bar"}function xa(e){var t=typeof e==="string"?e:e.id;return j[t]==="scatter"}function Ta(e){var t=typeof e==="string"?e:e.id;return j[t]==="pie"}function Na(e){var t=typeof e==="string"?e:e.id;return j[t]==="gauge"}function Ca(e){var t=typeof e==="string"?e:e.id;return j[t]==="donut"}function ka(e){return Ta(e)||Ca(e)||Na(e)}function La(e){return ya(e)?[e]:[]}function Aa(e){return ka(e.data)?[e]:[]}function Oa(e){return Sa(e)?e.values:[]}function Ma(e){return ya(e)||xa(e)?e.values:[]}function _a(e){return Sa(e)||ya(e)?e.values:[]}function Da(e){return Ca(e)&&Mn||Na(e)&&En||Ta(e)&&vn}function Pa(e,t,n){var r=[];return function(i){var s=i.id||i,o;if(e[s]instanceof Function){o=e[s](i)}else if(e[s]){o=e[s]}else{if(r.indexOf(s)<0){r.push(s)}o=t[r.indexOf(s)%t.length]}return n instanceof Function?n(o,i):o}}function Ha(e,t){var n=t.unit==="value",r=t.values&&t.values.length?t.values:[],i=t.max||100;return function(t){var s,o,u=e[e.length-1];for(s=0;s<r.length;s++){o=n?t:t*100/i;if(o<r[s]){u=e[s];break}}return u}}function Ba(t){var n;try{n=t instanceof Date||!O?new Date(t):u.time.format(O).parse(t)}catch(r){e.console.error("Failed to parse x '"+t+"' to Date with format "+O)}return n}function ja(e,t){var n=u.mouse(e),r=u.select(e);var i=r.attr("cx")*1,s=r.attr("cy")*1;return Math.sqrt(Math.pow(i-n[0],2)+Math.pow(s-n[1],2))<t}function Fa(e){var t=u.mouse(e),n=e.getBoundingClientRect(),r=e.pathSegList.getItem(0),i=e.pathSegList.getItem(1);var s=r.x,o=Math.min(r.y,i.y),a=n.width,f=n.height,l=2;var c=s-l,h=s+a+l,p=o+f+l,d=o-l;return c<t[0]&&t[0]<h&&d<t[1]&&t[1]<p}function Ia(e,t){var n;for(n=0;n<t.length;n++){if(t[n].start<e&&e<=t[n].end){return true}}return false}function qa(e){return!e||typeof e==="string"&&e.length===0||typeof e==="object"&&Object.keys(e).length===0}function Ra(e){return Object.keys(e).length>0}function Ua(e,t){var n=false;Object.keys(e).forEach(function(r){if(e[r]===t){n=true}});return n}function za(e,t){var n=ts(e.id)==="y"?Fr:Ir,r=dt?1:0,i=dt?0:1;return Math.pow(jr(e.x)-t[r],2)+Math.pow(n(e.value)-t[i],2)}function Wa(e,t){var n=0;e.each(function(){++n}).each("end",function(){if(!--n){t.apply(this,arguments)}})}function Xa(){var e=[],t=function(t,n){var r=setInterval(function(){var t=0;e.forEach(function(e){if(e.empty()){t+=1;return}try{e.transition()}catch(n){t+=1}});if(t===e.length){clearInterval(r);if(n){n()}}},10)};t.add=function(t){e.push(t)};return t}function Va(e,t,n){return s(e[t])?e[t]:n}function $a(e){return Math.ceil(e/10)*10}function Ja(e,t){var n;u.select("body").selectAll(".dummy").data([e]).enter().append("text").classed(t?t:"",true).text(e).each(function(){n=this.getBoundingClientRect()}).remove();return n}function Ka(e){return wa(e)?"cardinal":ba(e)?"step-after":"linear"}function Qa(e,t,r){Y(t,e.node());Af.select("."+n.selectedCircles+Su(t.id)).selectAll("."+n.selectedCircle+"-"+r).data([t]).enter().append("circle").attr("class",function(){return eu(n.selectedCircle,r)}).attr("cx",dt?aa:ua).attr("cy",dt?ua:aa).attr("stroke",function(){return sr(t)}).attr("r",af(t)*1.4).transition().duration(100).attr("r",af)}function Ga(e,t,r){Z(t,e.node());Af.select("."+n.selectedCircles+Su(t.id)).selectAll("."+n.selectedCircle+"-"+r).transition().duration(100).attr("r",0).remove()}function Ya(e,t,n,r){e?Qa(t,n,r):Ga(t,n,r)}function Za(e,t){Y(t,e.node());e.transition().duration(100).style("fill",function(){return u.rgb(sr(t)).brighter(.75)})}function ef(e,t){Z(t,e.node());e.transition().duration(100).style("fill",function(){return sr(t)})}function tf(e,t,n,r){e?Za(t,n,r):ef(t,n,r)}function nf(e,t,n,r){tf(e,t,n.data,r)}function rf(e){return e.nodeName==="circle"?Ya:u.select(e).classed(n.bar)?tf:nf}function sf(e){return e.filter(function(e){return r(e.value)})}function of(e){return rn&&!ba(e)?typeof sn==="function"?sn(e):sn:0}function uf(e){return un?an?an:of(e)*1.75:of(e)}function af(e){return fn?fn:of(e)*4}function ff(e,t){return(t?Af.selectAll("."+n.circles+Su(t)):Af).selectAll("."+n.circle+(r(e)?"-"+e:""))}function lf(e,t){ff(e,t).classed(n.EXPANDED,true).attr("r",uf)}function cf(e){ff(e).filter(function(){return u.select(this).classed(n.EXPANDED)}).classed(n.EXPANDED,false).attr("r",of)}function hf(e){return Af.selectAll("."+n.bar+(r(e)?"-"+e:""))}function pf(e){hf(e).classed(n.EXPANDED,true)}function df(e){hf(e).classed(n.EXPANDED,false)}function vf(e,t){var n=u.svg.area(),r=Ef(e,t),i=t?Yi:Gi,s=function(e,t){return P.length>0?r(e,t)[0][1]:i(e.id)(0)},o=function(e,t){return P.length>0?r(e,t)[1][1]:i(e.id)(e.value)};n=dt?n.x0(s).x1(o).y(Iu):n.x(Iu).y0(s).y1(o);return function(e){var t=sf(e.values),r,i;if(Ea(e)){return n.interpolate(Ka(e))(t)}else{r=jr(t[0].x);i=Gi(e.id)(t[0].value);return dt?"M "+i+" "+r:"M "+r+" "+i}}}function mf(e,t){var n=u.svg.line(),r=xf(e,t),i=t?Yi:Gi,s=t?Uu:Iu,o=function(e,t){return P.length>0?r(e,t)[0][1]:i(e.id)(e.value)};n=dt?n.x(o).y(s):n.x(s).y(o);if(!ln){n=n.defined(function(e){return e.value!==null})}return function(e){var r=ln?sf(e.values):e.values,s=t?s:qr,o=i(e.id),u=0,a=0;if(ya(e)){if(q[e.id]){return Tf(r,s,o,q[e.id])}else{return n.interpolate(Ka(e))(r)}}else{if(r[0]){u=s(r[0].x);a=o(r[0].value)}return dt?"M "+a+" "+u:"M "+u+" "+a}}}function gf(e,t){var n=Sf(e,t);return function(e,t){var r=n(e,t);var i=dt?1:0;var s=dt?0:1;var o="M "+r[0][i]+","+r[0][s]+" "+"L"+r[1][i]+","+r[1][s]+" "+"L"+r[2][i]+","+r[2][s]+" "+"L"+r[3][i]+","+r[3][s]+" "+"z";return o}}function yf(e,t){var n=Sf(e,false),r=t?bf:wf;return function(e,t){return r(n(e,t),e,this)}}function bf(e,t){var n;if(dt){n=Sa(t)?4:6;return e[2][1]+n*(t.value<0?-1:1)}else{return e[0][0]+(e[2][0]-e[0][0])/2}}function wf(e,t,n){var r=n.getBoundingClientRect();if(dt){return(e[0][0]+e[2][0]+r.height*.6)/2}else{return e[2][1]+(t.value<0?r.height:Sa(t)?-3:-6)}}function Ef(e,t){var n=e.__max__+1,r=ia(0,n,e,!!t),i=sa(!!t),s=oa(Ea,e,!!t),o=t?Yi:Gi;return function(e,t){var n=o(e.id)(0),u=s(e,t)||n,a=r(e),f=i(e);if(dt){if(0<e.value&&f<n||e.value<0&&n<f){f=n}}return[[a,u],[a,f-(n-u)]]}}function Sf(e,t){var n=e.__max__+1,r=fa(zr,n),i=ia(r,n,e,!!t),s=sa(!!t),o=oa(Sa,e,!!t),u=t?Yi:Gi;return function(e,t){var n=u(e.id)(0),a=o(e,t)||n,f=i(e),l=s(e);if(dt){if(0<e.value&&l<n||e.value<0&&n<l){l=n}}return[[f,a],[f,l-(n-a)],[f+r,l-(n-a)],[f+r,a]]}}function xf(e,t){var n=e.__max__+1,r=ia(0,n,e,!!t),i=sa(!!t),s=oa(ya,e,!!t),o=t?Yi:Gi;return function(e,t){var n=o(e.id)(0),u=s(e,t)||n,a=r(e),f=i(e);if(dt){if(0<e.value&&f<n||e.value<0&&n<f){f=n}}return[[a,f-(n-u)]]}}function Tf(e,t,n,r){var o=-1,u,a;var f="M",l;var c,h,p,d,v,m,g;var y,b;var w=[];if(s(r)){for(u=0;u<r.length;u++){w[u]={};if(i(r[u].start)){w[u].start=e[0].x}else{w[u].start=Qn?Ba(r[u].start):r[u].start}if(i(r[u].end)){w[u].end=e[e.length-1].x}else{w[u].end=Qn?Ba(r[u].end):r[u].end}}}y=dt?function(e){return n(e.value)}:function(e){return t(e.x)};b=dt?function(e){return t(e.x)}:function(e){return n(e.value)};if(Qn){l=function(e,r,i,s){var o=e.x.getTime(),u=r.x-e.x,a=new Date(o+u*i),f=new Date(o+u*(i+s));return"M"+t(a)+" "+n(h(i))+" "+t(f)+" "+n(h(i+s))}}else{l=function(e,r,i,s){return"M"+t(c(i),true)+" "+n(h(i))+" "+t(c(i+s),true)+" "+n(h(i+s))}}for(u=0;u<e.length;u++){if(i(w)||!Ia(e[u].x,w)){f+=" "+y(e[u])+" "+b(e[u])}else{c=Ji(e[u-1].x,e[u].x,Qn);h=Ji(e[u-1].value,e[u].value);p=t(e[u].x)-t(e[u-1].x);d=n(e[u].value)-n(e[u-1].value);v=Math.sqrt(Math.pow(p,2)+Math.pow(d,2));m=2/v;g=m*2;for(a=m;a<=1;a+=g){f+=l(e[u-1],e[u],a,m)}}o=e[u].x}return f}function jf(t){var n=new MutationObserver(function(r){r.forEach(function(r){if(r.type==="childList"&&r.previousSibling){n.disconnect();var i=e.setInterval(function(){if(t.node().parentNode){e.clearInterval(i);Vf({withUpdateTranslate:true,withTransform:true,withUpdateXDomain:true,withUpdateOrgXDomain:true,withTransition:false,withTransitionForTransform:false,withLegend:true});t.transition().style("opacity",1)}},10)}})});n.observe(t.node(),{attributes:true,childList:true,characterData:true})}function Ff(t){var r,i,s,o,f=true;Df=u.select(h);if(Df.empty()){Df=u.select(document.createElement("div")).style("opacity",0);jf(Df);f=false}Df.html("").classed("c3",true);a.data.xs={};a.data.targets=Oo(t);if(W){a.data.targets=a.data.targets.filter(W)}if(z){Xo(z===true?jo(a.data.targets):z)}if(va(a.data.targets)){at=false}pi();Vi();jr.domain(u.extent(ro(a.data.targets)));Fr.domain(Zs(a.data.targets,"y"));Ir.domain(Zs(a.data.targets,"y2"));qr.domain(jr.domain());Rr.domain(Fr.domain());Ur.domain(Ir.domain());Pf=jr.domain();Nf.scale(qr);if(b){Cf.scale(jr)}kf=Df.append("svg").style("overflow","hidden").on("mouseenter",x).on("mouseleave",T);Lf=kf.append("defs");Lf.append("clipPath").attr("id",Wn).append("rect");Lf.append("clipPath").attr("id",Xn).append("rect");Lf.append("clipPath").attr("id",Vn).append("rect");Qf();Af=kf.append("g").attr("transform",Yr.main);Of=kf.append("g").attr("transform",Yr.context);Mf=kf.append("g").attr("transform",Yr.legend);if(!rt){Of.style("visibility","hidden")}if(!at){Mf.style("visibility","hidden");lr=jo(a.data.targets)}_f=Df.style("position","relative").append("div").style("position","absolute").style("pointer-events","none").style("z-index","10").style("display","none");fl(jo(a.data.targets),{withTransform:false,withTransitionForTransform:false});if(a.data.targets.length===0){Af.append("text").attr("class",n.text+" "+n.empty).attr("x",(gi()-cr.left-cr.right)/2).attr("y",(yi()-cr.top-cr.bottom)/2).attr("text-anchor","middle").attr("dominant-baseline","middle").text(nt)}s=Af.append("g").attr("clip-path",$n).attr("class",n.grid);if(Gt){s.append("g").attr("class",n.xgrids)}if(Ra(Zt)){s.append("g").attr("class",n.xgridLines)}if(on){s.append("g").attr("class",n.xgridFocus).append("line").attr("class",n.xgridFocus)}if(en){s.append("g").attr("class",n.ygrids)}if(Ra(tn)){s.append("g").attr("class",n.ygridLines)}Af.append("g").attr("clip-path",$n).attr("class",n.regions);Af.append("g").attr("clip-path",$n).attr("class",n.chart);i=Af.select("."+n.chart).append("g").attr("class",n.eventRects).style("fill-opacity",0).style("cursor",b?dt?"ns-resize":"ew-resize":null);Af.select("."+n.chart).append("g").attr("class",n.chartBars);Af.select("."+n.chart).append("g").attr("class",n.chartLines);r=Af.select("."+n.chart).append("g").attr("class",n.chartArcs).attr("transform",Yr.arc);r.append("text").attr("class",n.chartArcsTitle).style("text-anchor","middle").text(Vs());if(va(a.data.targets)){r.append("path").attr("class",n.chartArcsBackground).attr("d",function(){var e={data:[{value:xn}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return js(e,true,true)});r.append("text").attr("dy",".75em").attr("class",n.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none").text(bn?kn:"");r.append("text").attr("dx",-1*(Sr+(wr-Sr)/2)+"px").attr("dy","1.2em").attr("class",n.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none").text(bn?Sn:"");r.append("text").attr("dx",Sr+(wr-Sr)/2+"px").attr("dy","1.2em").attr("class",n.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none").text(bn?xn:"")}Af.select("."+n.chart).append("g").attr("class",n.chartTexts);if(b){Af.insert("rect",E?null:"g."+n.grid).attr("class",n.zoomRect).attr("width",dr).attr("height",mr).style("opacity",0).style("cursor",dt?"ns-resize":"ew-resize").call(Cf).on("dblclick.zoom",null)}if(Mt){Nf.extent(typeof Mt!=="function"?Mt:Mt(ro()))}$r.x=Af.append("g").attr("class",n.axis+" "+n.axisX).attr("clip-path",Jn).attr("transform",Yr.x).style("visibility",vt?"visible":"hidden");$r.x.append("text").attr("class",n.axisXLabel).attr("transform",dt?"rotate(-90)":"").style("text-anchor",As);$r.y=Af.append("g").attr("class",n.axis+" "+n.axisY).attr("clip-path",Kn).attr("transform",Yr.y).style("visibility",Dt?"visible":"hidden");$r.y.append("text").attr("class",n.axisYLabel).attr("transform",dt?"":"rotate(-90)").style("text-anchor",Os);$r.y2=Af.append("g").attr("class",n.axis+" "+n.axisY2).attr("transform",Yr.y2).style("visibility",Ut?"visible":"hidden");$r.y2.append("text").attr("class",n.axisY2Label).attr("transform",dt?"":"rotate(-90)").style("text-anchor",Ms);Of.append("g").attr("clip-path",$n).attr("class",n.chart);Of.select("."+n.chart).append("g").attr("class",n.chartBars);Of.select("."+n.chart).append("g").attr("class",n.chartLines);Of.append("g").attr("clip-path",$n).attr("class",n.brush).call(Nf).selectAll("rect").attr(dt?"width":"height",dt?vr:gr);$r.subx=Of.append("g").attr("class",n.axisX).attr("transform",Yr.subx).attr("clip-path",dt?"":Jn);Zf(a.data.targets);if(f){Vf({withUpdateTranslate:true,withTransform:true,withUpdateXDomain:true,withUpdateOrgXDomain:true,withTransitionForAxis:false})}if(Rn){if(Qn&&typeof Un==="string"){Un=Ba(Un);for(o=0;o<a.data.targets[0].values.length;o++){if(a.data.targets[0].values[o].x-Un===0){break}}Un=o}_f.html(qn(a.data.targets.map(function(e){return xo(e.values[Un])}),ns(),Du(ga(a.data.targets)),sr));_f.style("top",zn.top).style("left",zn.left).style("display","block")}if(e.onresize===null){e.onresize=Kf()}if(e.onresize.add){e.onresize.add(N);e.onresize.add(function(){a.flush()});e.onresize.add(C)}a.element=Df.node()}function If(e){e.append("rect").attr("class",mu).style("cursor",X&&V?"pointer":null).on("mouseover",function(e){var t=e.index,r,i;if(er){return}if(ga(a.data.targets)){return}r=a.data.targets.map(function(e){return xo(To(e.values,t))});i=[];Object.keys(_).forEach(function(e){for(var t=0;t<r.length;t++){if(r[t]&&r[t].id===e){i.push(r[t]);r.shift(t);break}}});r=i.concat(r);if(un){lf(t)}pf(t);Af.selectAll("."+n.shape+"-"+t).each(function(e){Q(e)})}).on("mouseout",function(e){var t=e.index;if(ga(a.data.targets)){return}ta();Zu();cf(t);df();Af.selectAll("."+n.shape+"-"+t).each(function(e){G(e)})}).on("mousemove",function(e){var t,r=e.index;if(er){return}if(ga(a.data.targets)){return}t=Uo(a.data.targets).map(function(e){return xo(To(e.values,r))});Yu(t,u.mouse(this));ea(t);if(!X){return}if(V){return}Af.selectAll("."+n.shape+"-"+r).filter(function(e){return $(e)}).each(function(){var e=u.select(this).classed(n.EXPANDED,true);if(this.nodeName==="circle"){e.attr("r",uf)}kf.select("."+n.eventRect+"-"+r).style("cursor",null)}).filter(function(e){if(this.nodeName==="circle"){return ja(this,af(e))}else if(this.nodeName==="path"){return Fa(this)}}).each(function(){var e=u.select(this);if(!e.classed(n.EXPANDED)){e.classed(n.EXPANDED,true);if(this.nodeName==="circle"){e.attr("r",af)}}kf.select("."+n.eventRect+"-"+r).style("cursor","pointer")})}).on("click",function(e){var t=e.index;if(ga(a.data.targets)){return}if(tr){tr=false;return}Af.selectAll("."+n.shape+"-"+t).each(function(e){Rf(this,e,t)})}).call(u.behavior.drag().origin(Object).on("drag",function(){Uf(u.mouse(this))}).on("dragstart",function(){zf(u.mouse(this))}).on("dragend",function(){Wf()})).call(Cf).on("dblclick.zoom",null)}function qf(e){e.append("rect").attr("x",0).attr("y",0).attr("width",dr).attr("height",mr).attr("class",n.eventRect).on("mouseout",function(){if(ga(a.data.targets)){return}ta();Zu();cf()}).on("mousemove",function(){var e=Uo(a.data.targets);var t,r,i,s;if(er){return}if(ga(e)){return}t=u.mouse(this);r=Xu(e,t);if(!r){return}if(xa(r)){i=[r]}else{i=$u(e,r.x)}s=i.map(function(e){return xo(e)});Yu(s,t);if(un){cf();lf(r.index,r.id)}ea(s);if(za(r,t)<100){kf.select("."+n.eventRect).style("cursor","pointer");if(!nr){Q(r);nr=true}}else{kf.select("."+n.eventRect).style("cursor",null);G(r);nr=false}}).on("click",function(){var e=Uo(a.data.targets);var t,r;if(ga(e)){return}t=u.mouse(this);r=Xu(e,t);if(!r){return}if(za(r,t)<100){Af.select("."+n.circles+"-"+Su(r.id)).select("."+n.circle+"-"+r.index).each(function(){Rf(this,r,r.index)})}}).call(u.behavior.drag().origin(Object).on("drag",function(){Uf(u.mouse(this))}).on("dragstart",function(){zf(u.mouse(this))}).on("dragend",function(){Wf()})).call(Cf).on("dblclick.zoom",null)}function Rf(e,t,r){var i=u.select(e),s=i.classed(n.SELECTED),o,a;if(e.nodeName==="circle"){o=ja(e,af(t)*1.5);a=Ya}else if(e.nodeName==="path"){if(i.classed(n.bar)){o=Fa(e);a=tf}else{o=true;a=nf}}if(V||o){if(X&&$(t)){if(!J){Af.selectAll("."+n.shapes+(V?Su(t.id):"")).selectAll("."+n.shape).each(function(e,t){var r=u.select(this);if(r.classed(n.SELECTED)){a(false,r.classed(n.SELECTED,false),e,t)}})}i.classed(n.SELECTED,!s);a(!s,i,t,r)}K(t,e)}}function Uf(e){var t,r,i,s,o,f,l,c;if(ga(a.data.targets)){return}if(!X){return}if(b&&!Cf.altDomain){return}if(!J){return}t=Zn[0];r=Zn[1];i=e[0];s=e[1];o=Math.min(t,i);f=Math.max(t,i);l=V?cr.top:Math.min(r,s);c=V?mr:Math.max(r,s);Af.select("."+n.dragarea).attr("x",o).attr("y",l).attr("width",f-o).attr("height",c-l);Af.selectAll("."+n.shapes).selectAll("."+n.shape).filter(function(e){return $(e)}).each(function(e,t){var r=u.select(this),i=r.classed(n.SELECTED),s=r.classed(n.INCLUDED),a,h,p,d,v,m=false,g;if(r.classed(n.circle)){a=r.attr("cx")*1;h=r.attr("cy")*1;v=Ya;m=o<a&&a<f&&l<h&&h<c}else if(r.classed(n.bar)){g=Ju(this);a=g.x;h=g.y;p=g.width;d=g.height;v=tf;m=!(f<a||a+p<o)&&!(c<h||h+d<l)}else{return}if(m^s){r.classed(n.INCLUDED,!s);r.classed(n.SELECTED,!i);v(!i,r,e,t)}})}function zf(e){if(ga(a.data.targets)){return}if(!X){return}Zn=e;Af.select("."+n.chart).append("rect").attr("class",n.dragarea).style("opacity",.1);er=true;et()}function Wf(){if(ga(a.data.targets)){return}if(!X){return}Af.select("."+n.dragarea).transition().duration(100).style("opacity",0).remove();Af.selectAll("."+n.shape).classed(n.INCLUDED,false);er=false;tt()}function Xf(e,t){if(t==="grid"){e.each(function(){var e=u.select(this),t=e.attr("x1"),n=e.attr("x2"),r=e.attr("y1"),i=e.attr("y2");e.attr({x1:Math.ceil(t),x2:Math.ceil(n),y1:Math.ceil(r),y2:Math.ceil(i)})})}}function Vf(e,t){var i,s,o,f,l,c,h,p;var d,v,m,g,y,b,w,E,x,T,N,C;var L=ra(Ea),O=ra(Sa),M=ra(ya),_,D;var P,H;var B,j,F,I,q,R,U,z,W,X;var V=ga(a.data.targets);var J,K,Q,G,Y,Z,et,tt;var nt,it,st,ut=Xa();var ft=Uo(a.data.targets),lt,ct,ht;e=e||{};B=Va(e,"withY",true);j=Va(e,"withSubchart",true);F=Va(e,"withTransition",true);R=Va(e,"withTransform",false);U=Va(e,"withUpdateXDomain",false);z=Va(e,"withUpdateOrgXDomain",false);X=Va(e,"withUpdateTranslate",false);W=Va(e,"withLegend",false);I=Va(e,"withTransitionForExit",F);q=Va(e,"withTransitionForAxis",F);nt=F?k:0;it=I?nt:0;st=q?nt:0;t=t||Gf(st);if(X){if(dt){$r.x.call(zr);$r.subx.call(Vr)}else{$r.y.call(Wr);$r.y2.call(Xr)}pi();Vi();Qf();fi(false)}if(W&&at){fl(jo(a.data.targets),e,t)}if(Gn&&ft.length===0){jr.domain([0,$r.x.selectAll(".tick").size()])}if(ft.length){io(ft,U,z);if(!Nt&&(Tt||xt)){lt=Wo(zo(ft),xt);zr.tickValues(lt);Vr.tickValues(lt)}}Fr.domain(Zs(ft,"y"));Ir.domain(Zs(ft,"y2"));$r.x.style("opacity",V?0:1);$r.y.style("opacity",V?0:1);$r.y2.style("opacity",V?0:1);$r.subx.style("opacity",V?0:1);t.axisX.call(zr);t.axisY.call(Wr);t.axisY2.call(Xr);t.axisSubX.call(Vr);Ds(F);if(U&&ft.length){if(Et&&lt){for(ct=1;ct<lt.length;ct++){if(lt.length/ct<St){ht=ct;break}}kf.selectAll("."+n.axisX+" .tick text").each(function(e){var t=lt.indexOf(e);if(t>=0){u.select(this).style("display",t%ht?"none":"block")}})}else{kf.selectAll("."+n.axisX+" .tick text").style("display","block")}}if(!dt&&Ct){as($r.x,t.axisX,Ct)}J=vf(L,false);Q=gf(O);Y=mf(M,false);et=yf(O,true);tt=yf(O,false);Rr.domain(Fr.domain());Ur.domain(Ir.domain());_f.style("display","none");di();Af.select("line."+n.xgridFocus).style("visibility","hidden");if(Gt){o=na(Yt,jr);D=Gn?zr.tickOffset():0;s=dt?{x1:0,x2:dr,y1:function(e){return jr(e)-D},y2:function(e){return jr(e)-D}}:{x1:function(e){return jr(e)+D},x2:function(e){return jr(e)+D},y1:cr.top,y2:mr};i=Af.select("."+n.xgrids).selectAll("."+n.xgrid).data(o);i.enter().append("line").attr("class",n.xgrid);i.attr(s).style("opacity",function(){return+u.select(this).attr(dt?"y1":"x1")===(dt?mr:0)?0:1});i.exit().remove()}if(Ra(Zt)){f=Af.select("."+n.xgridLines).selectAll("."+n.xgridLine).data(Zt);l=f.enter().append("g").attr("class",function(e){return n.xgridLine+(e.class?e.class:"")});l.append("line").style("opacity",0);l.append("text").attr("text-anchor","end").attr("transform",dt?"":"rotate(-90)").attr("dx",dt?0:-cr.top).attr("dy",-5).style("opacity",0);f.select("line").transition().duration(nt).attr("x1",dt?0:qu).attr("x2",dt?dr:qu).attr("y1",dt?qu:cr.top).attr("y2",dt?qu:mr).style("opacity",1);f.select("text").transition().duration(nt).attr("x",dt?dr:0).attr("y",qu).text(function(e){return e.text}).style("opacity",1);f.exit().transition().duration(nt).style("opacity",0).remove()}if(B&&en){c=Af.select("."+n.ygrids).selectAll("."+n.ygrid).data(Fr.ticks(nn));c.enter().append("line").attr("class",n.ygrid);c.attr("x1",dt?Fr:0).attr("x2",dt?Fr:dr).attr("y1",dt?0:Fr).attr("y2",dt?mr:Fr);c.exit().remove();Xf(c,"grid")}if(B&&Ra(tn)){h=Af.select("."+n.ygridLines).selectAll("."+n.ygridLine).data(tn);p=h.enter().append("g").attr("class",function(e){return n.ygridLine+(e.class?e.class:"")});p.append("line").style("opacity",0);p.append("text").attr("text-anchor","end").attr("transform",dt?"rotate(-90)":"").attr("dx",dt?0:-cr.top).attr("dy",-5).style("opacity",0);h.select("line").transition().duration(nt).attr("x1",dt?Ru:0).attr("x2",dt?Ru:dr).attr("y1",dt?0:Ru).attr("y2",dt?mr:Ru).style("opacity",1);h.select("text").transition().duration(nt).attr("x",dt?0:dr).attr("y",Ru).text(function(e){return e.text}).style("opacity",1);h.exit().transition().duration(nt).style("opacity",0).remove()}b=Af.select("."+n.regions).selectAll("."+n.region).data(Bn);b.enter().append("g").attr("class",vu).append("rect").style("fill-opacity",0);b.selectAll("rect").transition().duration(nt).attr("x",fo).attr("y",lo).attr("width",co).attr("height",ho).style("fill-opacity",function(e){return r(e.opacity)?e.opacity:.1});b.exit().transition().duration(nt).style("opacity",0).remove();g=Af.selectAll("."+n.bars).selectAll("."+n.bar).data(Oa);g.enter().append("path").attr("class",fu).style("stroke",function(e){return sr(e.id)}).style("fill",function(e){return sr(e.id)}).style("fill-opacity",function(){if(ot){return ot}return ku});g.style("opacity",ku);g.exit().transition().duration(it).style("opacity",0).remove();d=Af.selectAll("."+n.lines).selectAll("."+n.line).data(La);d.enter().append("path").attr("class",su).style("stroke",sr);d.style("opacity",ku).attr("transform",null);d.exit().transition().duration(it).style("opacity",0).remove();v=Af.selectAll("."+n.areas).selectAll("."+n.area).data(La);v.enter().append("path").attr("class",pu).style("fill",sr).style("opacity",function(){Hf=+u.select(this).style("opacity");return 0});v.style("opacity",Hf);v.exit().transition().duration(it).style("opacity",0).remove();if(rn){m=Af.selectAll("."+n.circles).selectAll("."+n.circle).data(Ma);m.enter().append("circle").attr("class",uu).attr("r",of).style("fill",sr);m.style("opacity",ku);m.exit().remove()}else{m=u.selectAll([])}if(Mu()){w=Af.selectAll("."+n.texts).selectAll("."+n.text).data(_a);w.enter().append("text").attr("class",tu).attr("text-anchor",function(e){return dt?e.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",sr).style("fill-opacity",0);w.text(function(e){return Fu(e.id)(e.value,e.id)}).style("fill-opacity",Lu).transition().duration(nt).attr("x",et).attr("y",tt).style("fill",sr).style("fill-opacity",Ou);w.exit().transition().duration(it).style("fill-opacity",0).remove()}y=Af.selectAll("."+n.arcs).selectAll("."+n.arc).data(Aa);y.enter().append("path").attr("class",cu).style("fill",function(e){return sr(e.data)}).style("cursor",function(e){return $(e)?"pointer":null}).style("opacity",0).each(function(e){if(Na(e.data)){e.startAngle=e.endAngle=-1*(Math.PI/2)}this._current=e}).on("mouseover",function(e,t){var n,r,i;if(rr){return}n=Ps(e);r=qs(n);i=Js();Us(n.data.id);sl(n.data.id,true);i(r,t)}).on("mousemove",function(e){var t=Ps(e),n=qs(t),r=[n];Yu(r,u.mouse(this))}).on("mouseout",function(e,t){var n,r,i;if(rr){return}n=Ps(e);r=qs(n);i=Ks();zs(n.data.id);ol();Zu();i(r,t)}).on("click",function(e,t){var n=Ps(e),r=qs(n),i=$s();Rf(this,e,t);i(r,t)});y.attr("transform",function(e){return!Na(e.data)&&R?"scale(0)":""}).style("opacity",function(e){return e===this._current?0:1}).each(function(){rr=true}).transition().duration(nt).attrTween("d",function(e){var t=Ps(e),n;if(!t){return function(){return"M 0 0"}}if(isNaN(this._current.endAngle)){this._current.endAngle=this._current.startAngle}n=u.interpolate(this._current,t);this._current=n(0);return function(e){return js(n(e),true)}}).attr("transform",R?"scale(1)":"").style("fill",function(e){return or?or(e.data.values[0].value):sr(e.data.id)}).style("opacity",ot).call(Wa,function(){rr=false});y.exit().transition().duration(it).style("opacity",0).remove();Af.selectAll("."+n.chartArc).select("text").style("opacity",0).attr("class",function(e){return Na(e.data)?n.gaugeValue:""}).text(Rs).attr("transform",Fs).transition().duration(nt).style("opacity",function(e){return qo(e.data.id)&&ka(e.data)?1:0});Af.select("."+n.chartArcsTitle).style("opacity",ma(a.data.targets)||va(a.data.targets)?1:0);if(rt){if(u.event&&u.event.type==="zoom"){Nf.extent(jr.orgDomain()).update()}if(j){if(!dt&&Ct){as($r.subx,t.axisSubX,Ct)}if(!Nf.empty()){Nf.extent(jr.orgDomain()).update()}K=vf(L,true);G=gf(O,true);Z=mf(M,true);T=Of.selectAll("."+n.bars).selectAll("."+n.bar).data(Oa);T.enter().append("path").attr("class",fu).style("stroke","none").style("fill",sr);T.style("opacity",ku).transition().duration(nt).attr("d",G).style("opacity",1);T.exit().transition().duration(nt).style("opacity",0).remove();E=Of.selectAll("."+n.lines).selectAll("."+n.line).data(La);E.enter().append("path").attr("class",su).style("stroke",sr);E.style("opacity",ku).transition().duration(nt).attr("d",Z).style("opacity",1);E.exit().transition().duration(nt).style("opacity",0).remove();x=Of.selectAll("."+n.areas).selectAll("."+n.area).data(La);x.enter().append("path").attr("class",pu).style("fill",sr).style("opacity",function(){Hf=+u.select(this).style("opacity");return 0});x.style("opacity",0).transition().duration(nt).attr("d",K).style("fill",sr).style("opacity",Hf);x.exit().transition().duration(it).style("opacity",0).remove()}}Af.selectAll("."+n.selectedCircles).filter(function(e){return Sa(e)}).selectAll("circle").remove();if(S){N=Af.select("."+n.eventRects);if(Ra(A)&&!So(A)){if(!N.classed(n.eventRectsMultiple)){N.classed(n.eventRectsMultiple,true).classed(n.eventRectsSingle,false).selectAll("."+n.eventRect).remove()}C=Af.select("."+n.eventRects).selectAll("."+n.eventRect).data([0]);qf(C.enter());C.attr("x",0).attr("y",0).attr("width",dr).attr("height",mr)}else{if(!N.classed(n.eventRectsSingle)){N.classed(n.eventRectsMultiple,false).classed(n.eventRectsSingle,true).selectAll("."+n.eventRect).remove()}if((Yn||Qn)&&!Gn){H=function(e){var t=_o(e.index),n=Do(e.index),r=a.data.xs[e.id][e.index];return(jr(n?n:r)-jr(t?t:r))/2};P=function(e){var t=_o(e.index),n=a.data.xs[e.id][e.index];return(jr(n)+jr(t?t:n))/2}}else{H=qi();P=function(e){return jr(e.x)-H/2}}_=Ho(a.data.targets);Af.select("."+n.eventRects).datum(_?_.values:[]);C=Af.select("."+n.eventRects).selectAll("."+n.eventRect).data(function(e){return e});If(C.enter());C.attr("class",mu).attr("x",dt?0:P).attr("y",dt?P:0).attr("width",dt?dr:H).attr("height",dt?H:mr);C.exit().remove()}}u.transition().duration(nt).each(function(){ut.add(g.transition().attr("d",Q).style("fill",sr).style("opacity",1));ut.add(d.transition().attr("d",Y).style("stroke",sr).style("opacity",1));ut.add(v.transition().attr("d",J).style("fill",sr).style("opacity",Hf));ut.add(m.transition().style("opacity",Au).style("fill",sr).attr("cx",dt?aa:ua).attr("cy",dt?ua:aa));ut.add(Af.selectAll("."+n.selectedCircle).transition().attr("cx",dt?aa:ua).attr("cy",dt?ua:aa))}).call(ut,e.flow?function(){var t,r=1,i,s=e.flow.index,o=e.flow.length,f=To(a.data.targets[0].values,s),l=To(a.data.targets[0].values,s+o),c=jr.domain(),h=Xa();a.data.targets.forEach(function(e){e.values.splice(0,o)});io(ft,true,true);t=jr(f.x)-jr(l.x);if(Qn){t=t*.9;r=so(c)/so(jr.domain())}i="translate("+t+",0) scale("+r+",1)";u.transition().ease("linear").each(function(){h.add($r.x.transition().call(zr));h.add(g.transition().attr("transform",i));h.add(d.transition().attr("transform",i));h.add(v.transition().attr("transform",i));h.add(m.transition().attr("transform",i))}).call(h,function(){var e,t=[],r=[];for(e=0;e<o;e++){t.push("."+n.shape+"-"+(s+e));r.push("."+n.eventRect+"-"+(s+e))}kf.selectAll("."+n.shapes).selectAll(t).remove();kf.selectAll("."+n.eventRects).selectAll(r).remove();g.attr("transform",null).attr("d",Q);d.attr("transform",null).attr("d",Y);v.attr("transform",null).attr("d",J);m.attr("transform",null).attr("cx",dt?aa:ua).attr("cy",dt?ua:aa);C.attr("x",dt?0:P).attr("y",dt?P:0).attr("width",dt?dr:H).attr("height",dt?H:mr)})}:null);jo(a.data.targets).forEach(function(e){Bf[e]=true})}function $f(){Vf({withTransition:false,withY:false,withSubchart:false,withUpdateXDomain:true})}function Jf(){if(Uo(a.data.targets).length===0){return}if(u.event.sourceEvent.type==="mousemove"&&Cf.altDomain){jr.domain(Cf.altDomain);Cf.scale(jr).updateScaleExtent();return}if(Gn&&jr.orgDomain()[0]===Pf[0]){jr.domain([Pf[0]-1e-10,jr.orgDomain()[1]])}Vf({withTransition:false,withY:false,withSubchart:false});if(u.event.sourceEvent.type==="mousemove"){tr=true}}function Kf(){function t(){e.forEach(function(e){e()})}var e=[];t.add=function(t){e.push(t)};return t}function Qf(){kf.attr("width",yr).attr("height",br);kf.select("#"+Wn).select("rect").attr("width",dr).attr("height",mr);kf.select("#"+Xn).select("rect").attr("x",Oi).attr("y",Mi).attr("width",Bi).attr("height",ji);kf.select("#"+Vn).select("rect").attr("x",_i).attr("y",Di).attr("width",Fi).attr("height",Ii);kf.select("."+n.zoomRect).attr("width",dr).attr("height",mr);Df.style("max-height",br+"px")}function Gf(e){return{axisX:e?$r.x.transition().duration(e):$r.x,axisY:e?$r.y.transition().duration(e):$r.y,axisY2:e?$r.y2.transition().duration(e):$r.y2,axisSubX:e?$r.subx.transition().duration(e):$r.subx}}function Yf(e){var t;e=e||{};e.withTransition=Va(e,"withTransition",true);e.withTransform=Va(e,"withTransform",false);e.withLegend=Va(e,"withLegend",false);e.withUpdateXDomain=true;e.withUpdateOrgXDomain=true;e.withTransitionForExit=false;if(!(e.withLegend&&at)){t=Gf(e.withTransitionForAxis?k:0);pi();Vi();Qf();fi(e.withTransition,t)}Vf(e,t)}function Zf(e){var t,r,i,s,o,u,f,l;var c,h,p,d;f=Af.select("."+n.chartTexts).selectAll("."+n.chartText).data(e).attr("class",yu);l=f.enter().append("g").attr("class",yu).style("opacity",0).style("pointer-events","none");l.append("g").attr("class",nu);s=Af.select("."+n.chartBars).selectAll("."+n.chartBar).data(e).attr("class",wu);i=s.enter().append("g").attr("class",wu).style("opacity",0).style("pointer-events","none");i.append("g").attr("class",lu).style("cursor",function(e){return $(e)?"pointer":null});r=Af.select("."+n.chartLines).selectAll("."+n.chartLine).data(e).attr("class",bu);t=r.enter().append("g").attr("class",bu).style("opacity",0).style("pointer-events","none");t.append("g").attr("class",ou);t.append("g").attr("class",du);t.append("g").attr("class",function(e){return eu(n.selectedCircles,e.id)});t.append("g").attr("class",au).style("cursor",function(e){return $(e)?"pointer":null});e.forEach(function(e){Af.selectAll("."+n.selectedCircles+Su(e.id)).selectAll("."+n.selectedCircle).each(function(t){t.value=e.values[t.index].value})});u=Af.select("."+n.chartArcs).selectAll("."+n.chartArc).data(Lr(e)).attr("class",Eu);o=u.enter().append("g").attr("class",Eu);o.append("g").attr("class",hu);o.append("text").attr("dy",va(a.data.targets)?"-0.35em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none");if(rt){d=Of.select("."+n.chartBars).selectAll("."+n.chartBar).data(e).attr("class",wu);p=d.enter().append("g").style("opacity",0).attr("class",wu);p.append("g").attr("class",lu);h=Of.select("."+n.chartLines).selectAll("."+n.chartLine).data(e).attr("class",bu);c=h.enter().append("g").style("opacity",0).attr("class",bu);c.append("g").attr("class",ou);c.append("g").attr("class",du)}kf.selectAll("."+n.target).filter(function(e){return qo(e.id)}).transition().duration(k).style("opacity",1)}function el(e,t){if(t.filter){e=e.filter(t.filter)}if(t.type||t.types){e.forEach(function(e){t.types?la(e.id,t.types[e.id]):la(e.id,t.type)})}a.data.targets.forEach(function(t){for(var n=0;n<e.length;n++){if(t.id===e[n].id){t.values=e[n].values;e.splice(n,1);break}}});a.data.targets=a.data.targets.concat(e);Zf(a.data.targets);Vf({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true});if(typeof t.done==="function"){t.done()}}function tl(e){if("data"in e){el(Oo(e.data),e)}else if("url"in e){u.csv(e.url,function(t,n){el(Oo(n),e)})}else if("rows"in e){el(Oo(Lo(e.rows)),e)}else if("columns"in e){el(Oo(Ao(e.columns)),e)}else{throw Error("url or rows or columns is required.")}}function nl(e,t){if(typeof t!=="function"){t=function(){}}e=e.filter(function(e){return Io(a.data.targets,e)});if(!e||e.length===0){t();return}kf.selectAll(e.map(function(e){return xu(e)})).transition().style("opacity",0).remove().call(Wa,t);e.forEach(function(e){Bf[e]=false;Mf.selectAll("."+n.legendItem+Su(e)).remove();a.data.targets=a.data.targets.filter(function(t){return t.id!==e})})}function rl(e){return e.classed(n.legendItemHidden)?ri:1}function il(e){return e.classed(n.legendItemHidden)?ri:.3}function sl(e,t){Mf.selectAll("."+n.legendItem).transition().duration(100).style("opacity",function(n){var r=u.select(this);if(e&&n!==e){return t?il(r):rl(r)}else{return t?rl(r):il(r)}})}function ol(){Mf.selectAll("."+n.legendItem).transition().duration(100).style("opacity",function(){return rl(u.select(this))})}function ul(e){if(!at){at=true;Mf.style("visibility","visible")}Jo(e);Mf.selectAll(Cu(e)).style("visibility","visible").transition().style("opacity",function(){return rl(u.select(this))})}function al(e){if(at&&qa(e)){at=false;Mf.style("visibility","hidden")}$o(e);Mf.selectAll(Cu(e)).style("opacity",0).style("visibility","hidden")}function fl(e,t,r){function D(t,r,i){function h(e,t){if(!t){l=(f-b-a)/2;if(l<g){l=(f-a)/2;b=0;N++}}T[e]=N;x[N]=l;w[e]=b;b+=a}var s=Ja(t.textContent,n.legendItem),o=Math.ceil((s.width+d)/10)*10,u=Math.ceil((s.height+p)/10)*10,a=Zr?u:o,f=Zr?Xi():Wi(),l,c;if(i){b=0;N=0;v=0;m=0}if(at&&!Ro(r)){E[r]=S[r]=T[r]=w[r]=0;return}E[r]=o;S[r]=u;if(!v||o>=v){v=o}if(!m||u>=m){m=u}c=Zr?m:v;if(pt){Object.keys(E).forEach(function(e){E[e]=v});Object.keys(S).forEach(function(e){S[e]=m});l=(f-c*e.length)/2;if(l<g){b=0;N=0;e.forEach(function(e){h(e)})}else{h(r,true)}}else{h(r)}}var i,o,f,l,c,h;var p=4,d=36,v=0,m=0,g=10;var y,b=0,w={},E={},S={},x=[0],T={},N=0;var C,k;var L=Mf.selectAll("."+n.legendItemFocused).size();var A,O,M;t=t||{};C=Va(t,"withTransition",true);k=Va(t,"withTransitionForTransform",true);if(Zr){i=function(e){return v*T[e]};l=function(e){return x[T[e]]+w[e]}}else{i=function(e){return x[T[e]]+w[e]};l=function(e){return m*T[e]}}o=function(e,t){return i(e,t)+14};c=function(e,t){return l(e,t)+9};f=function(e,t){return i(e,t)-4};h=function(e,t){return l(e,t)-7};y=Mf.selectAll("."+n.legendItem).data(e).enter().append("g").attr("class",function(e){return eu(n.legendItem,e)}).style("visibility",function(e){return Ro(e)?"visible":"hidden"}).style("cursor","pointer").on("click",function(e){typeof lt==="function"?lt(e):a.toggle(e)}).on("mouseover",function(e){u.select(this).classed(n.legendItemFocused,true);if(!rr){a.focus(e)}if(typeof ct==="function"){ct(e)}}).on("mouseout",function(e){u.select(this).classed(n.legendItemFocused,false);if(!rr){a.revert()}if(typeof ht==="function"){ht(e)}});y.append("text").text(function(e){return s(_[e])?_[e]:e}).each(function(e,t){D(this,e,t===0)}).style("pointer-events","none").attr("x",Zr?o:-200).attr("y",Zr?-200:c);y.append("rect").attr("class",n.legendItemEvent).style("fill-opacity",0).attr("x",Zr?f:-200).attr("y",Zr?-200:h);y.append("rect").attr("class",n.legendItemTile).style("pointer-events","none").style("fill",sr).attr("x",Zr?o:-200).attr("y",Zr?-200:l).attr("width",10).attr("height",10);A=Mf.selectAll("text").data(e).text(function(e){return s(_[e])?_[e]:e}).each(function(e,t){D(this,e,t===0)});(C?A.transition():A).attr("x",o).attr("y",c);O=Mf.selectAll("rect."+n.legendItemEvent).data(e);(C?O.transition():O).attr("width",function(e){return E[e]}).attr("height",function(e){return S[e]}).attr("x",f).attr("y",h);M=Mf.selectAll("rect."+n.legendItemTile).data(e);(C?M.transition():M).style("fill",sr).attr("x",i).attr("y",l);Mf.selectAll("."+n.legendItem).classed(n.legendItemHidden,function(e){return!qo(e)}).transition().style("opacity",function(e){var t=u.select(this);if(qo(e)){return!L||t.classed(n.legendItemFocused)?rl(t):il(t)}else{return ri}});Ui(v);zi(m);Ri(N);pi();Vi();Qf();fi(k,r)}function ll(e){return Io(a.data.targets,e.id)}function cl(e){return"data"in e&&Io(a.data.targets,e.data.id)}function hl(e){var t=e&&e.value?e.value:null,n=e&&e["class"]?e["class"]:null;return t?function(e){return e.value!==t}:n?function(e){return e["class"]!==n}:function(){return true}}function pl(e,t,n){var r=!ga(a.data.targets);rr=false;la(e,t);Yf(n||{withTransitionForAxis:r})}var u=e.d3?e.d3:"undefined"!==typeof require?require("d3"):undefined;var a={data:{},axis:{},legend:{}},f={};var h=c(["bindto"],"#chart");var p=c(["size","width"]),d=c(["size","height"]);var v=c(["padding","left"]),m=c(["padding","right"]),g=c(["padding","top"]),y=c(["padding","bottom"]);var b=c(["zoom","enabled"],false),w=c(["zoom","extent"]),E=c(["zoom","privileged"],false);var S=c(["interaction","enabled"],true);var x=c(["onenter"],function(){}),T=c(["onleave"],function(){}),N=c(["onresize"],function(){}),C=c(["onresized"],function(){});var k=c(["transition","duration"],350);l("data","data is required in config");var L=c(["data","x"]),A=c(["data","xs"],{}),O=c(["data","x_format"]),M=c(["data","id_converter"],function(e){return e}),_=c(["data","names"],{}),D=c(["data","classes"],{}),P=c(["data","groups"],[]),H=c(["data","axes"],{}),B=c(["data","type"]),j=c(["data","types"],{}),F=c(["data","labels"],{}),I=c(["data","order"]),q=c(["data","regions"],{}),R=c(["data","color"]),U=c(["data","colors"],{}),z=c(["data","hide"],false),W=c(["data","filter"]),X=c(["data","selection","enabled"],false),V=c(["data","selection","grouped"],false),$=c(["data","selection","isselectable"],function(){return true}),J=c(["data","selection","multiple"],true),K=c(["data","onclick"],function(){}),Q=c(["data","onenter"],function(){}),G=c(["data","onleave"],function(){}),Y=c(["data","onselected"],function(){}),Z=c(["data","onunselected"],function(){}),et=c(["data","ondragstart"],function(){}),tt=c(["data","ondragend"],function(){});var nt=c(["data","empty","label","text"],"");var rt=c(["subchart","show"],false),it=c(["subchart","size","height"],60);var st=c(["color","pattern"],[]),ot=c(["color","opacity"],1),ut=c(["color","threshold"],{});var at=c(["legend","show"],true),ft=c(["legend","position"],"bottom"),lt=c(["legend","item","onclick"]),ct=c(["legend","item","onmouseover"]),ht=c(["legend","item","onmouseout"]),pt=c(["legend","equally"],false);var dt=c(["axis","rotated"],false),vt=c(["axis","x","show"],true),mt=c(["axis","x","type"],"indexed"),gt=c(["axis","x","localtime"],true),yt=c(["axis","x","categories"],[]),bt=c(["axis","x","tick","centered"],false),wt=c(["axis","x","tick","format"]),Et=c(["axis","x","tick","culling"],{}),St=c(["axis","x","tick","culling","max"],10),xt=c(["axis","x","tick","count"]),Tt=c(["axis","x","tick","fit"],true),Nt=c(["axis","x","tick","values"],null),Ct=c(["axis","x","tick","rotate"]),kt=c(["axis","x","max"],null),Lt=c(["axis","x","min"],null),At=c(["axis","x","padding"],{}),Ot=c(["axis","x","height"]),Mt=c(["axis","x","default"]),_t=c(["axis","x","label"],{}),Dt=c(["axis","y","show"],true),Pt=c(["axis","y","max"]),Ht=c(["axis","y","min"]),Bt=c(["axis","y","center"]),jt=c(["axis","y","label"],{}),Ft=c(["axis","y","inner"],false),It=c(["axis","y","tick","format"]),qt=c(["axis","y","padding"]),Rt=c(["axis","y","ticks"],10),Ut=c(["axis","y2","show"],false),zt=c(["axis","y2","max"]),Wt=c(["axis","y2","min"]),Xt=c(["axis","y2","center"]),Vt=c(["axis","y2","label"],{}),$t=c(["axis","y2","inner"],false),Jt=c(["axis","y2","tick","format"]),Kt=c(["axis","y2","padding"]),Qt=c(["axis","y2","ticks"],10);var Gt=c(["grid","x","show"],false),Yt=c(["grid","x","type"],"tick"),Zt=c(["grid","x","lines"],[]),en=c(["grid","y","show"],false),tn=c(["grid","y","lines"],[]),nn=c(["grid","y","ticks"],10);var rn=c(["point","show"],true),sn=c(["point","r"],2.5),on=c(["point","focus","line","enabled"],true),un=c(["point","focus","expand","enabled"],true),an=c(["point","focus","expand","r"]),fn=c(["point","focus","select","r"]);var ln=c(["line","connect_null"],false);var cn=c(["bar","width"]),hn=c(["bar","width","ratio"],.6);var pn=c(["pie","label","show"],true),dn=c(["pie","label","format"]),vn=c(["pie","expand"],true),mn=c(["pie","onclick"],function(){}),gn=c(["pie","onmouseover"],function(){}),yn=c(["pie","onmouseout"],function(){});var bn=c(["gauge","label","show"],true),wn=c(["gauge","label","format"]),En=c(["gauge","expand"],true),Sn=c(["gauge","min"],0),xn=c(["gauge","max"],100),Tn=c(["gauge","onclick"],function(){}),Nn=c(["gauge","onmouseover"],function(){}),Cn=c(["gauge","onmouseout"],function(){}),kn=c(["gauge","units"]),Ln=c(["gauge","width"]);var An=c(["donut","label","show"],true),On=c(["donut","label","format"]),Mn=c(["donut","expand"],true),_n=c(["donut","title"],""),Dn=c(["donut","onclick"],function(){}),Pn=c(["donut","onmouseover"],function(){}),Hn=c(["donut","onmouseout"],function(){});var Bn=c(["regions"],[]);var jn=c(["tooltip","show"],true),Fn=c(["tooltip","format","title"]),In=c(["tooltip","format","value"]),qn=c(["tooltip","contents"],function(e,t,r,i){var s=Fn?Fn:t,o=In?In:r,u,a,f,l,c,h;for(a=0;a<e.length;a++){if(!(e[a]&&(e[a].value||e[a].value===0))){continue}if(!u){f=s?s(e[a].x):e[a].x;u="<table class='"+n.tooltip+"'>"+(f||f===0?"<tr><th colspan='2'>"+f+"</th></tr>":"")}c=e[a].name;l=o(e[a].value,e[a].ratio,e[a].id,e[a].index);h=or?or(e[a].value):i(e[a].id);u+="<tr class='"+n.tooltipName+"-"+e[a].id+"'>";u+="<td class='name'><span style='background-color:"+h+"'></span>"+c+"</td>";u+="<td class='value'>"+l+"</td>";u+="</tr>"}return u+"</table>"}),Rn=c(["tooltip","init","show"],false),Un=c(["tooltip","init","x"],0),zn=c(["tooltip","init","position"],{top:"0px",left:"50px"});var Wn="c3-"+ +(new Date)+"-clip",Xn=Wn+"-xaxis",Vn=Wn+"-yaxis",$n=ii(Wn),Jn=ii(Xn),Kn=ii(Vn);var Qn=mt==="timeseries",Gn=mt==="categorized",Yn=!Qn&&(L||Ra(A));var Zn=null,er=false,tr=false,nr=false,rr=false;var ir=u.scale.category10().range(),sr=Pa(U,Ra(st)?st:ir,R),or=Ra(ut)?Ha(st,ut):null;var ur=gt?u.time.format:u.time.format.utc,ar=ur.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%-m/%-d",function(e){return e.getDay()&&e.getDate()!==1}],["%-m/%-d",function(e){return e.getDate()!==1}],["%-m/%-d",function(e){return e.getMonth()}],["%Y/%-m/%-d",function(){return true}]]);var fr=[],lr=[];var cr,hr,pr,dr,vr,mr,gr,yr,br;var wr,Er,Sr,xr,Tr,Nr,Cr,kr,Lr;var Ar,Or,Mr,_r,Dr,Pr,Hr,Br;var jr,Fr,Ir,qr,Rr,Ur,zr,Wr,Xr,Vr;var $r={};var Jr=dt?"left":"bottom",Kr=dt?Ft?"top":"bottom":Ft?"right":"left",Qr=dt?$t?"bottom":"top":$t?"left":"right",Gr=dt?"left":"bottom";var Yr={main:function(){return"translate("+si(cr.left)+","+si(cr.top)+")"},context:function(){return"translate("+si(hr.left)+","+si(hr.top)+")"},legend:function(){return"translate("+pr.left+","+pr.top+")"},x:function(){return"translate(0,"+(dt?0:mr)+")"},y:function(){return"translate(0,"+(dt?mr:0)+")"},y2:function(){return"translate("+(dt?0:dr)+","+(dt?1:0)+")"},subx:function(){return"translate(0,"+(dt?0:gr)+")"},arc:function(){return"translate("+xr/2+","+Tr/2+")"}};var Zr=ft==="right";var ei=0,ti=0,ni=0,ri=.15;var li=30,ci=dt&&!vt?0:30,hi=5;Lr=u.layout.pie().value(function(e){return e.values.reduce(function(e,t){return e+t.value},0)});var Nf,Cf=function(){};Nf=u.svg.brush().on("brush",$f);Nf.update=function(){if(Of){Of.select("."+n.brush).call(this)}return this};Nf.scale=function(e){return dt?this.y(e):this.x(e)};if(b){Cf=u.behavior.zoom().on("zoomstart",function(){Cf.altDomain=u.event.sourceEvent.altKey?jr.orgDomain():null}).on("zoom",b?Jf:null);Cf.scale=function(e){return dt?this.y(e):this.x(e)};Cf.orgScaleExtent=function(){var e=w?w:[1,10];return[e[0],Math.max(Po()/e[1],e[1])]};Cf.updateScaleExtent=function(){var e=so(jr.orgDomain())/so(Pf),t=this.orgScaleExtent();this.scaleExtent([t[0]*e,t[1]*e]);return this}}var kf,Lf,Af,Of,Mf,_f,Df;var Pf;var Hf,Bf={};a.focus=function(e){function s(e){Uo(e).transition().duration(100).style("opacity",1)}var t=kf.selectAll(xu(e)),r=t.filter(ll),i=t.filter(cl);a.revert();a.defocus();s(r.classed(n.focused,true));s(i);if(ga(a.data.targets)){Us(e,true)}sl(e,true)};a.defocus=function(e){function s(e){Uo(e).transition().duration(100).style("opacity",.3)}var t=kf.selectAll(xu(e)),r=t.filter(ll),i=t.filter(cl);a.revert();s(r.classed(n.focused,false));s(i);if(ga(a.data.targets)){zs(e)}sl(e,false)};a.revert=function(e){function s(e){Uo(e).transition().duration(100).style("opacity",1)}var t=kf.selectAll(xu(e)),r=t.filter(ll),i=t.filter(cl);s(r.classed(n.focused,false));s(i);if(ga(a.data.targets)){zs(e)}ol()};a.show=function(e,t){e=Fo(e);t=t||{};Vo(e);kf.selectAll(Tu(e)).transition().style("opacity",1);if(t.withLegend){ul(e)}Vf({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true})};a.hide=function(e,t){e=Fo(e);t=t||{};Xo(e);kf.selectAll(Tu(e)).transition().style("opacity",0);if(t.withLegend){al(e)}Vf({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true})};a.toggle=function(e){qo(e)?a.hide(e):a.show(e)};a.unzoom=function(){Nf.clear().update();Vf({withUpdateXDomain:true})};a.load=function(e){if(e.xs){Eo(e.xs)}if("classes"in e){Object.keys(e.classes).forEach(function(t){D[t]=e.classes[t]})}if("categories"in e&&Gn){yt=e.categories}if("cacheIds"in e&&oo(e.cacheIds)){el(ao(e.cacheIds),e.done);return}if("unload"in e){nl(Fo(typeof e.unload==="boolean"&&e.unload?null:e.unload),function(){tl(e)})}else{tl(e)}};a.unload=function(e,t){nl(Fo(e),function(){Vf({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true});if(typeof t==="function"){t()}})};a.flow=function(e){var t=Oo(Ao(e.columns),true),n=[],r,i;a.data.targets.forEach(function(e){var s=false,o,u;for(o=0;o<t.length;o++){if(e.id===t[o].id){s=true;i=e.values[e.values.length-1].index+1;r=t[o].values.length;for(u=0;u<t[o].values.length;u++){t[o].values[u].index=i+u;if(!Qn){t[o].values[u].x=i+u}}e.values=e.values.concat(t[o].values);t.splice(o,1);break}}if(!s){n.push(e.id)}});a.data.targets.forEach(function(e){var t,s;for(t=0;t<n.length;t++){if(e.id===n[t]){i=e.values[e.values.length-1].index+1;for(s=0;s<r;s++){e.values.push({id:e.id,index:i+s,x:Qn?wo(i+s):i+s,value:null})}}}});t.forEach(function(e){var t,n=[];for(t=a.data.targets[0].values[0].index;t<i;t++){n.push({id:e.id,index:t,x:Qn?wo(t):t,value:null})}e.values.forEach(function(e){e.index+=i;if(!Qn){e.x+=i}});e.values=n.concat(e.values)});a.data.targets=a.data.targets.concat(t);Zf(a.data.targets);Vf({flow:{index:a.data.targets[0].values[0].index,length:r},withLegend:true})};a.selected=function(e){return u.merge(Af.selectAll("."+n.shapes+Su(e)).selectAll("."+n.shape).filter(function(){return u.select(this).classed(n.SELECTED)}).map(function(e){return e.map(function(e){var t=e.__data__;return t.data?t.data:t})}))};a.select=function(e,t,r){if(!X){return}Af.selectAll("."+n.shapes).selectAll("."+n.shape).each(function(i,o){var a=u.select(this),f=i.data?i.data.id:i.id,l=rf(this),c=V||!e||e.indexOf(f)>=0,h=!t||t.indexOf(o)>=0,p=a.classed(n.SELECTED);if(a.classed(n.line)||a.classed(n.area)){return}if(c&&h){if($(i)&&!p){l(true,a.classed(n.SELECTED,true),i,o)}}else if(s(r)&&r){if(p){l(false,a.classed(n.SELECTED,false),i,o)}}})};a.unselect=function(e,t){if(!X){return}Af.selectAll("."+n.shapes).selectAll("."+n.shape).each(function(r,i){var s=u.select(this),o=r.data?r.data.id:r.id,a=rf(this),f=V||!e||e.indexOf(o)>=0,l=!t||t.indexOf(i)>=0,c=s.classed(n.SELECTED);if(s.classed(n.line)||s.classed(n.area)){return}if(f&&l){if($(r)){if(c){a(false,s.classed(n.SELECTED,false),r,i)}}}})};a.toLine=function(e){pl(e,"line")};a.toSpline=function(e){pl(e,"spline")};a.toBar=function(e){pl(e,"bar")};a.toScatter=function(e){pl(e,"scatter")};a.toArea=function(e){pl(e,"area")};a.toAreaSpline=function(e){pl(e,"area-spline")};a.toPie=function(e){pl(e,"pie",{withTransform:true})};a.toDonut=function(e){pl(e,"donut",{withTransform:true})};a.groups=function(e){if(i(e)){return P}P=e;Vf();return P};a.xgrids=function(e){if(!e){return Zt}Zt=e;Vf();return Zt};a.xgrids.add=function(e){if(!e){return}return a.xgrids(Zt.concat(e))};a.xgrids.remove=function(e){var t=hl(e);return a.xgrids(Zt.filter(t))};a.ygrids=function(e){if(!e){return tn}tn=e;Vf();return tn};a.ygrids.add=function(e){if(!e){return}return a.ygrids(tn.concat(e))};a.ygrids.remove=function(e){var t=hl(e);return a.ygrids(tn.filter(t))};a.regions=function(e){if(!e){return Bn}Bn=e;Vf();return Bn};a.regions.add=function(e){if(!e){return Bn}Bn=Bn.concat(e);Vf();return Bn};a.regions.remove=function(e){var t,r,i;e=e||{};t=Va(e,"duration",k);r=Va(e,"classes",[n.region]);i=Af.select("."+n.regions).selectAll(r.map(function(e){return"."+e}));(t?i.transition().duration(t):i).style("opacity",0).remove();Bn=Bn.filter(function(e){var t=false;if(!e.class){return true}e.class.split(" ").forEach(function(e){if(r.indexOf(e)>=0){t=true}});return!t});return Bn};a.data.get=function(e){var t=a.data.getAsTarget(e);return s(t)?t.values.map(function(e){return e.value}):undefined};a.data.getAsTarget=function(e){var t=a.data.targets.filter(function(t){return t.id===e});return t.length>0?t[0]:undefined};a.data.names=function(e){if(!arguments.length){return _}Object.keys(e).forEach(function(t){_[t]=e[t]});Vf({withLegend:true});return _};a.data.colors=function(e){if(!arguments.length){return U}Object.keys(e).forEach(function(t){U[t]=e[t]});Vf({withLegend:true});return U};a.x=function(e){if(arguments.length){No(a.data.targets,e);Vf({withUpdateOrgXDomain:true,withUpdateXDomain:true})}return a.data.xs};a.xs=function(e){if(arguments.length){Co(a.data.targets,e);Vf({withUpdateOrgXDomain:true,withUpdateXDomain:true})}return a.data.xs};a.axis.labels=function(e){if(arguments.length){Object.keys(e).forEach(function(t){ss(t,e[t])});Ds()}};a.axis.max=function(e){if(arguments.length){if(typeof e==="object"){if(r(e.x)){kt=+e.x}if(r(e.y)){Pt=+e.y}if(r(e.y2)){zt=+e.y2}}else{Pt=zt=+e}Vf({withUpdateOrgXDomain:true,withUpdateXDomain:true})}};a.axis.min=function(e){if(arguments.length){if(typeof e==="object"){if(r(e.x)){Lt=+e.x}if(r(e.y)){Ht=+e.y}if(r(e.y2)){Wt=+e.y2}}else{Ht=Wt=+e}Vf({withUpdateOrgXDomain:true,withUpdateXDomain:true})}};a.axis.range=function(e){if(arguments.length){if(typeof e.max!=="undefined"){a.axis.max(e.max)}if(typeof e.min!=="undefined"){a.axis.min(e.min)}}};a.legend.show=function(e){ul(Fo(e));Vf({withLegend:true})};a.legend.hide=function(e){al(Fo(e));Vf({withLegend:true})};a.resize=function(e){p=e?e.width:null;d=e?e.height:null;a.flush();a.flush()};a.flush=function(){Yf({withLegend:true,withTransition:false,withTransitionForTransform:false})};a.destroy=function(){a.data.targets=undefined;a.data.xs={};Df.classed("c3",false).html("");e.onresize=null};if("url"in t.data){u.xhr(t.data.url,function(e,t){var n=u.csv.parseRows(t.response),r;if(n.length===1){r=[{}];n[0].forEach(function(e){r[0][e]=null})}else{r=u.csv.parse(t.response)}Ff(r)})}else if("rows"in t.data){Ff(Lo(t.data.rows))}else if("columns"in t.data){Ff(Ao(t.data.columns))}else{throw Error("url or rows or columns is required.")}return a};if(typeof define==="function"&&define.amd){define("c3",["d3"],t)}else if("undefined"!==typeof exports&&"undefined"!==typeof module){module.exports=t}else{e.c3=t}})(window);
